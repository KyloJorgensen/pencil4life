{"version":3,"sources":["webpack:///./client/src/components/doodle/doodle-changer.tsx","webpack:///./client/src/components/doodle/doodle-edit.tsx","webpack:///./client/src/components/doodle/doodle-list-item.tsx","webpack:///./client/src/components/doodle/doodle-list.tsx","webpack:///./client/src/components/doodle/doodle-new.tsx","webpack:///./client/src/components/doodle/doodle-page.tsx","webpack:///./client/src/components/doodle/doodle-provider.tsx","webpack:///./client/src/components/doodle/doodle-switch.tsx","webpack:///./client/src/components/doodle/doodle.tsx","webpack:///./client/src/components/utilities/styled.components.tsx","webpack:///./node_modules/@fortawesome/fontawesome-free-solid/faCaretLeft.js","webpack:///./node_modules/@fortawesome/fontawesome-free-solid/faCaretRight.js"],"names":[],"mappings":"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","file":"11.index_bundle.js","sourcesContent":["'use strict';\r\n\r\nimport * as React from 'react';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport * as  fontawesome from '@fortawesome/fontawesome';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as faCaretRight from '@fortawesome/fontawesome-free-solid/faCaretRight';\r\nimport * as faCaretLeft from '@fortawesome/fontawesome-free-solid/faCaretLeft';\r\nimport { doodleConsumer, IDoodleContext } from './doodle-provider';\r\nimport styled from 'styled-components';\r\n\r\nfontawesome.library.add(faCaretRight, faCaretLeft);\r\n\r\nexport interface BackArrowProps {\r\n    doodle: IDoodleContext;\r\n}\r\n\r\nconst ArrowStyle = styled.div`\r\n    > a {\r\n        display: block;\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 0 1em;\r\n        > svg {\r\n            position: relative;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n            margin: 0;                    \r\n            width: 2em !important;\r\n            height: 5em;\r\n            color: #494949;\r\n        }\r\n    }\r\n    &:hover {\r\n        > a > svg {\r\n            color: white;\r\n        }\r\n    }\r\n`;\r\n\r\nclass BackArrow extends React.Component<BackArrowProps> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { getDoodles } = this.props.doodle;\r\n    \tgetDoodles({});\r\n    }\r\n\r\n\trender() {\r\n        const { doodles, doodle } = this.props.doodle;\r\n        \r\n        const pages = doodles.map((page) => `item/${page}`);\r\n        pages.push('');\r\n        const index = pages.findIndex((page) => page == ('_doodleId' in doodle? `item/${doodle._doodleId}` : ''));\r\n\r\n\t\treturn (\r\n\t\t\t<ArrowStyle className='back' >\r\n                <Link to={`/doodle/${pages[(index+pages.length-1)%pages.length]}`} >\r\n                    <FontAwesomeIcon icon={[\"fas\", \"caret-left\"]} />\r\n                </Link>\r\n\t\t\t</ArrowStyle>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nconst backarrow = doodleConsumer(BackArrow);\r\nexport {backarrow as BackArrow};\r\n\r\nexport interface NextArrowProps {\r\n    doodle: IDoodleContext;\r\n}\r\n\r\nclass NextArrow extends React.Component<NextArrowProps> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {getDoodles} = this.props.doodle;\r\n    \tgetDoodles({});\r\n    }\r\n\r\n\trender() {\r\n        const { doodles, doodle } = this.props.doodle;\r\n        \r\n        const pages = doodles.map((page) => `item/${page}`);\r\n        pages.push('');\r\n        const index = pages.findIndex((page) => page == ('_doodleId' in doodle? `item/${doodle._doodleId}` : ''));\r\n\r\n\t\treturn (\r\n\t\t\t<ArrowStyle className='next' >\r\n                <Link to={`/doodle/${pages[(index+pages.length+1)%pages.length]}`} >\r\n                    <FontAwesomeIcon icon={[\"fas\", \"caret-right\"]} />\r\n                </Link>\r\n\t\t\t</ArrowStyle>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nconst nextarrow = doodleConsumer(NextArrow);\r\nexport {nextarrow as NextArrow};","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport RichTextEditor from 'react-rte';\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport * as Datetime from 'react-datetime';\r\nimport ImageNew from '../image/image-new';\r\nimport ImageEdit from '../image/image-edit';\r\nimport { IDoodleContext, updateDoodleParams, doodleConsumer } from './doodle-provider';\r\nimport { IUserContext, userConsumer } from '../user/user-provider';\r\nimport { Location } from 'history';\r\nimport { Popout } from '../utilities/styled.components';\r\n\r\nexport interface DoodleEditProps {\r\n\tdoodle: IDoodleContext;\r\n\tuser: IUserContext;\r\n\tlocation: Location;\r\n}\r\n\r\nexport interface DoodleEditState {\r\n\tredirect: boolean;\r\n\ttitle: string;\r\n\timageRequired: boolean;\r\n\t_imageId: string;\r\n\tdetails: any;\r\n\tdiscontinued: boolean;\r\n}\r\n\r\nexport interface DoodleEditMethods {\r\n\teditField: (event: UIEvent) => void;\r\n\thandleCheckboxChange: (event: UIEvent) => void;\r\n\thitKey: (event: UIEvent) => void;\r\n\tupdateDoodle: (event: UIEvent) => void;\r\n\tupdateDoodleResult: (error: boolean) => void;\r\n\tonRichTextChange: (value) => void;\r\n\tredirect: () => void;\r\n\taddNewImageResult: (error: boolean, _imageId: string) => void;\r\n}\r\n\r\nclass DoodleEdit extends React.Component<DoodleEditProps, DoodleEditState> implements DoodleEditMethods {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        \tredirect: false,\r\n        \ttitle: null,\r\n        \timageRequired: false,\r\n        \t_imageId: null,\r\n        \tdetails: RichTextEditor.createEmptyValue(),\r\n        \tdiscontinued: false,\r\n        };\r\n\r\n\t\tthis.editField = this.editField.bind(this);\r\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n\t\tthis.hitKey = this.hitKey.bind(this);\r\n\t\tthis.updateDoodle = this.updateDoodle.bind(this);\r\n\t\tthis.updateDoodleResult = this.updateDoodleResult.bind(this);\r\n\t\tthis.onRichTextChange = this.onRichTextChange.bind(this);\r\n\t\tthis.redirect = this.redirect.bind(this);\r\n\t\tthis.addNewImageResult = this.addNewImageResult.bind(this);\r\n\t}\r\n\t\r\n\teditField(event) {\r\n\t\tconst { name, value } = event.target;\r\n\t\tthis.setState((prevState) => {\r\n\t\t\tprevState[name] = value;\r\n\t\t\treturn prevState;\r\n\t\t});\r\n\t}\r\n\r\n\thandleCheckboxChange(event) {\r\n\t\tconst { name, checked } = event.target;\r\n\t\tthis.setState((prevState) => {\r\n\t\t\tprevState[name] = checked;\r\n\t\t\treturn prevState;\r\n\t\t});\r\n\t}\r\n\r\n\thitKey(event) {\r\n\t\tif (event.key == 'Enter') {\r\n\t\t\tthis.updateDoodle(event);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateDoodle(event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst { title, details, _imageId, discontinued } = this.state;\r\n\r\n\t\tconst changes: updateDoodleParams = {\r\n\t\t\ttitle: title,\r\n\t\t\tdetails: details.toString('html'),\r\n\t\t\t_imageId: _imageId,\r\n\t\t\tdiscontinued: discontinued\r\n\t\t};\r\n\r\n\t\tconst params: updateDoodleParams = {_id: this.props.doodle.doodle._doodleId};\r\n\t\tlet vaildKeys = ['title', 'details', '_imageId', 'discontinued'];\r\n\r\n\t\tvaildKeys.forEach((vaildKey) => {\r\n\t\t\tif (changes[vaildKey] != this.props.doodle.doodle[vaildKey]) {\r\n\t\t\t\tparams[vaildKey] = changes[vaildKey];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.props.doodle.updateDoodle(params, this.updateDoodleResult);\r\n\t}\r\n\r\n\tupdateDoodleResult(error) {\r\n\t\tif (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t} else {\r\n\t\t\tthis.redirect();\r\n\t\t} \r\n\t}\r\n\r\n\tonRichTextChange(value) {\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {details: value};\r\n\t\t});\r\n\t}\r\n\r\n\tredirect() {\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {redirect: true};\r\n\t\t});\r\n\t}\r\n\r\n\taddNewImageResult(error, _imageId) {\r\n\t\tif (error) {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {imageRequired: true};\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t_imageId: _imageId,\r\n\t\t\t\t\timageRequired: false,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t} \r\n\t}\r\n\r\n    componentWillMount() {\r\n\t\tconst { title, details, _imageId, discontinued } = this.props.doodle.doodle;\r\n\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tdetails: RichTextEditor.createValueFromString(details, 'html'),\r\n\t\t\t\t_imageId: _imageId,\r\n\t\t\t\tdiscontinued: discontinued,\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n\r\n\tcomponentDidUpdate(prevProps: DoodleEditProps, prevState) {\r\n\t\tlet propsToCheck = ['title', 'year', 'coverImage', 'details', 'discontinued'];\r\n\t\tlet _state = null;\r\n\t\tpropsToCheck.forEach((propToCheck) => {\r\n\t\t\tif (prevProps.doodle.doodle[propToCheck] !== this.props.doodle.doodle[propToCheck]) {\r\n\t\t\t\t_state = _state == null ? {} : _state;\r\n\t\t\t\tif (propToCheck == 'details') {\r\n\t\t\t\t\t_state[propToCheck] = RichTextEditor.createValueFromString(this.props.doodle.doodle[propToCheck], 'html');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_state[propToCheck] = this.props.doodle.doodle[propToCheck];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (_state) {\r\n\t\t\tthis.setState(_state);\r\n\t\t}\r\n\t}\r\n\r\n    componentDidMount() {\r\n    \tthis.props.doodle.getDoodle(this.props.doodle.doodle._doodleId);\r\n    }\r\n\r\n\trender() {\r\n\t\tconst { addNewImageResult, hitKey, handleCheckboxChange, editField, updateDoodle, onRichTextChange} = this;\r\n\t\tconst { title, _imageId, imageRequired, redirect, details, discontinued } = this.state;\r\n\t\tconst { admin } = this.props.user;\r\n\t\tconst { pathname } = this.props.location;\r\n\t\tconst { _doodleId } = this.props.doodle.doodle;\r\n\r\n\r\n\t\tif (redirect) {\r\n\t\t\treturn (<Redirect to={'/doodle/item/'+this.props.doodle.doodle._doodleId} />);\r\n\t\t}\r\n\r\n\t\tif (!admin) {\r\n\t\t\treturn (<Redirect to={{pathname: '/login', state: {redirectPath: pathname}}}/>)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Popout>\r\n\t\t\t\t<div className=\"doodle-page-edit-wrapper\" >\r\n\t\t\t\t\t<form onSubmit={updateDoodle}>\r\n\t\t\t\t\t\t{admin ? <p className=\"text-right\" ><Link to={'/doodle/item/' + _doodleId}>X</Link></p> : ''}\r\n\r\n\t\t\t\t\t\t<h3>EDIT DOODLE</h3>\r\n\r\n\t\t\t\t\t\t<label>Image</label>\r\n\t\t\t\t\t\t{_imageId ? <ImageEdit _imageId={_imageId} updateRedirect={false} /> : <ImageNew required={imageRequired} addNewImageResult={addNewImageResult} />}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<label>Title</label>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<input type='text' onKeyPress={hitKey} onChange={editField} name='title' placeholder=\"Great Doodle\" value={title} />\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<label>Details</label>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<RichTextEditor value={details} onChange={onRichTextChange} />\r\n\t\t\t\t\t\t<label>Discontinued</label>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<input type='checkbox' checked={!!discontinued} name=\"discontinued\" onChange={handleCheckboxChange} />\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<input type='submit' onClick={updateDoodle} value='SAVE' />\r\n\t\t\t\t\t</form>\t\r\n\t\t\t\t</div>\r\n\t\t\t</Popout>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nexport default userConsumer(doodleConsumer(DoodleEdit));","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as moment from 'moment';\r\nimport * as objectPath from 'object-path';\r\nimport ImageTag from '../image/image-tag';\r\nimport { doodleConsumer, IDoodleContext } from './doodle-provider';\r\nimport styled from 'styled-components';\r\n\r\nconst DoodleListItemWrapper = styled.div`\r\n\t.doodle-link {    \r\n\t\tdisplay: grid;\r\n\t\tgrid-template-rows: 1fr auto;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tcolor: black;\r\n\t\tborder-color: #ffffff;\r\n\t\tborder-style: solid;\r\n\t}\r\n\t.doodle-link:hover {\r\n\t\tborder-style: solid;\r\n\t\tborder-color: black;\r\n\t\ttransition: border-color 2s linear;\r\n\t}\r\n\r\n\t.image-wrapper {\r\n\t\talign-self: stretch;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.title-year-wrapper {\r\n\t\talign-self: end;\r\n\t\t> .title, > .year {\r\n\t\t\tmargin: 0.25em;\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\t\t> .year {\r\n\t\t\tfloat:right;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport interface DoodleListItemProps {\r\n\tdoodle: IDoodleContext;\r\n\t_doodleId: string;\r\n}\r\n\r\nclass DoodleListItem extends React.Component<DoodleListItemProps> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n    \tthis.props.doodle.getDoodle(this.props._doodleId);\r\n    }\r\n\r\n\trender() {\r\n\r\n\t\tconst { _doodleId, title, _imageId } = this.props.doodle.doodle;\r\n\r\n\t\tconst ImageElem = _imageId ? (<ImageTag _imageId={this.props.doodle.doodle._imageId} />) : '';\r\n\r\n\t\treturn (\r\n\t\t\t<DoodleListItemWrapper>\t\t\t\t\r\n\t\t\t\t<Link className=\"doodle-link\" to={'/doodle/item/'+_doodleId} >\r\n\t\t\t\t\t<div className=\"image-wrapper\">\r\n\t\t\t\t\t\t{ImageElem}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"title-year-wrapper\">\r\n\t\t\t\t\t\t<p className=\"title\">{title}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</DoodleListItemWrapper>\r\n\t\t);\t\t\r\n\t}\r\n};\r\n\r\nexport default doodleConsumer(DoodleListItem);","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport DoodleListItem from './doodle-list-item';\r\nimport { IDoodleContext, doodleConsumer, getDoodlesQuery } from './doodle-provider';\r\nimport styled from 'styled-components';\r\n\r\nconst DoodleListWrapper = styled.div`\t\r\n\t> ul {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n\t\tgrid-template-rows: minmax(100px, 1fr);\r\n\t\tgrid-gap: 2rem;\r\n\t}\r\n`;\r\n\r\nexport interface DoodleListProps {\r\n\tdoodle: IDoodleContext;\r\n\tlimit: number;\r\n\tdiscontinued: boolean;\r\n\tdisplayDetails?: boolean;\r\n}\r\n\r\nclass DoodleList extends React.Component<DoodleListProps> {\r\n\tpublic static defaultProps = {\r\n\t\tdisplayDetails: true,\r\n\t};\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n    \tlet query: getDoodlesQuery = {};\r\n    \tif (this.props.limit) {\r\n    \t\tquery.limit = this.props.limit;\r\n    \t}\r\n    \tthis.props.doodle.getDoodles(query);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n    \tlet update = false;\r\n    \tlet prevDiscontinued = prevProps.discontinued || false;\r\n    \tlet currentDiscontinued = this.props.discontinued || false;\r\n    \tif (prevDiscontinued != currentDiscontinued) {\r\n\t    \tupdate = true;\r\n    \t}\r\n\r\n    \tif (update) {\r\n    \t\tlet query = {\r\n    \t\t\tdiscontinued: this.props.discontinued || false,\r\n    \t\t\tlimit: this.props.limit || 10,\r\n    \t\t}\r\n    \t\tthis.props.doodle.getDoodles(query);\r\n    \t}\r\n\r\n    }\r\n\r\n\trender() {\r\n\t\tconst { displayDetails } = this.props;\r\n\t\tlet DoodleList = [];\r\n\t\tif (this.props.doodle.doodles) {\r\n            this.props.doodle.doodles.forEach((doodleKey) => {\r\n\t\t\t\tDoodleList.push(<DoodleListItem key={doodleKey} _doodleId={doodleKey} displayDetails={displayDetails} />)\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<DoodleListWrapper>\r\n\t\t\t\t<ul className='doodle-list' >\r\n\t\t\t\t\t{DoodleList}\r\n\t\t\t\t</ul>\r\n\t\t\t</DoodleListWrapper>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nexport default doodleConsumer(DoodleList);","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport RichTextEditor from 'react-rte';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport ImageNew from '../image/image-new';\r\nimport ImageEdit from '../image/image-edit';\r\nimport { IUserContext, userConsumer } from '../user/user-provider';\r\nimport { Location } from 'history';\r\nimport { doodleConsumer, IDoodleContext, addDoodleParams } from './doodle-provider';\r\nimport { Popout } from '../utilities/styled.components';\r\n\r\nexport interface DoodleNewProps {\r\n\tuser: IUserContext;\r\n\tdoodle: IDoodleContext;\r\n\tlocation: Location;\r\n}\r\n\r\nexport interface DoodleNewState {\r\n\t_doodleId: string;\r\n\trequired: boolean;\r\n\timageRequired: boolean;\r\n\ttitle: string;\r\n\tdetails: any;\r\n\t_imageId?: string;\r\n}\r\n\r\nexport interface DoodleNewMethods {\r\n\thitKey: (event: UIEvent) => void;\r\n\taddNewProject: (event: UIEvent) => void;\r\n\taddNewProjectResult: (error: boolean, _doodleId: string) => void;\r\n\tonRichTextChange: (value: string) => void;\r\n\taddNewImageResult: (error: boolean, _imageId: string) => void;\r\n}\r\n\r\n\r\nclass DoodleNew extends React.Component<DoodleNewProps, DoodleNewState> implements DoodleNewMethods {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        \t_doodleId: null,\r\n        \trequired: false,\r\n        \timageRequired: false,\r\n\t\t\ttitle: null,\r\n        \tdetails: RichTextEditor.createEmptyValue(),\r\n\t\t};\r\n\t\t\r\n\r\n\t\tthis.hitKey = this.hitKey.bind(this);\r\n\t\tthis.addNewProject = this.addNewProject.bind(this);\r\n\t\tthis.addNewProjectResult = this.addNewProjectResult.bind(this);\r\n\t\tthis.onRichTextChange = this.onRichTextChange.bind(this);\r\n\t\tthis.addNewImageResult = this.addNewImageResult.bind(this);\r\n\t}\r\n\r\n\thitKey(event) {\r\n\t\tif (event.key == 'Enter') {\r\n\t\t\tthis.addNewProject(event);\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.doodle.getDoodles({});\r\n\t}\r\n\r\n\ttitleRef: React.RefObject<HTMLInputElement> = React.createRef();\r\n\r\n\taddNewProject(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconst title = this.titleRef.current.value;\r\n\t\tconst { details, _imageId } = this.state;\r\n\r\n\t\tconst newProject: addDoodleParams = {\r\n\t\t\ttitle: title,\r\n\t\t\tdetails: details.toString('html'),\r\n\t\t}\r\n\r\n\t\tif (_imageId != null) {\r\n\t\t\tnewProject._imageId = _imageId;\r\n\t\t}\r\n\t\tthis.props.doodle.addDoodle(newProject, this.addNewProjectResult);\r\n\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {required: false};\r\n\t\t});\r\n\t}\r\n\r\n\taddNewProjectResult = (error, _doodleId) => {\r\n\t\tif (error) {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {required: true};\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {_doodleId: _doodleId};\r\n\t\t\t});\r\n\t\t} \r\n\t}\r\n\r\n\tonRichTextChange = (value) => {\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {details: value};\r\n\t\t});\r\n\t}\r\n\r\n\taddNewImageResult = (error, _imageId) => {\r\n\t\tif (error) {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {imageRequired: true};\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t_imageId: _imageId,\r\n\t\t\t\t\timageRequired: false,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t} \r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { addNewImageResult, addNewProject, hitKey, onRichTextChange, titleRef } = this;\r\n\t\tconst { _imageId, imageRequired, _doodleId, required, details } = this.state;\r\n\t\tconst { admin } = this.props.user;\r\n\t\tconst { pathname } = this.props.location;\r\n\t\tconst { total } = this.props.doodle;\r\n\r\n\t\t\r\n\r\n\t\tif (_doodleId) {\r\n\t\t\treturn (<Redirect to={'/doodle/item/'+this.state._doodleId} />);\r\n\t\t}\r\n\t\tif (!admin) {\r\n\t\t\treturn (<Redirect to={{pathname: '/login', state: {redirectPath: pathname}}}/>)\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<Popout>\r\n\t\t\t\t<div className=\"doodle-new-wrapper\" >\r\n\t\t\t\t\t<form onSubmit={addNewProject}>\r\n\t\t\t\t\t\t<p className=\"text-right\" ><Link to={'/doodle/'}>X</Link></p>\r\n\r\n\t\t\t\t\t\t<h3>New Doodle</h3>\r\n\t\t\t\t\t\t<label>Image</label>\r\n\t\t\t\t\t\t{_imageId ? <ImageEdit _imageId={_imageId} updateRedirect={false} /> : <ImageNew required={imageRequired} addNewImageResult={addNewImageResult} />}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<label>Title{required ? (<span className=\"errortext\" >*</span>) : ''}</label>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<input type='text' onKeyPress={hitKey} placeholder=\"Great Project\" ref={titleRef} />\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<label>Details</label>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<RichTextEditor value={details} onChange={onRichTextChange} />\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<input type='submit' onClick={addNewProject} value='SAVE' />\r\n\t\t\t\t\t</form>\t\r\n\t\t\t\t</div>\r\n\t\t\t</Popout>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nexport default userConsumer(doodleConsumer(DoodleNew));","'use strict';\n\nimport * as React from 'react';\nimport RichTextEditor from 'react-rte';\nimport { Link, Switch, Route, NavLink } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport { doodleProvider } from './doodle-provider';\nimport { IUserContext, userConsumer } from '../user/user-provider';\nimport DoodleList from './doodle-list';\nimport Doodle from './doodle';\nimport DoodleNew from './doodle-new';\nimport DoodleEdit from './doodle-edit';\n\nconst Wrapper = styled.div`\n\tdisplay: grid;\n\tgrid-row-gap: 1em;\n`;\n\nexport interface DoodlePageProps {\n\tuser: IUserContext;\n}\n\nexport interface DoodlePageState {\n\tdiscontinued: boolean;\n}\n\nclass DoodlePage extends React.Component<DoodlePageProps, DoodlePageState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \tdiscontinued: false,\n        };\n\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n    }\n\n    handleCheckboxChange(event) {\n        const { name, checked } = event.target;\n        this.setState((prevState) => {\n            prevState[name] = checked; \n            return prevState;\n        });\n\t}\n\t\n\trender() {\n\t\tconst { admin } = this.props.user;\n\t\tconst { discontinued } = this.state;\n\t\treturn (\n\t\t\t<Wrapper>\n\t\t\t\t{admin ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Link to={\"/doodle/new/\"}>NEW DOODLE</Link>\n\t\t\t\t\t\t<label>Discontinued</label><input type='checkbox' checked={!!this.state.discontinued} name=\"discontinued\" onChange={this.handleCheckboxChange} />\n\t\t\t\t\t</div>\n\t\t\t\t) : ''}\n\t\t\t\t<DoodleList discontinued={discontinued} />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/doodle/new/\" component={DoodleNew} />\n\t\t\t\t\t<Route exact path=\"/doodle/item/:_doodleId/\" component={Doodle} />\n\t\t\t\t\t<Route exact path=\"/doodle/edit/:_doodleId/\" component={DoodleEdit} />\t\t\t\t\n\t\t\t\t</Switch>\n\t\t\t</Wrapper>\n\t\t);\t\t\t\n\t}\n};\n\n\nexport { DoodlePage };\n\nexport default userConsumer(doodleProvider(DoodlePage));","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport * as RichTextEditor from 'react-rte';\r\nimport { stringify } from 'querystring';\r\n\r\nexport interface IDoodleContext extends DoodleWrapperMethods, DoodleWrapperState{\r\n}\r\n\r\nconst Context: IDoodleContext = {\r\n    getDoodles: (params) => {\r\n        console.error('Error: Cannot getDoodles no DoodleContext.Provider element in parents');\r\n    },\r\n    getDoodle: (params) => {\r\n        console.error('Error: Cannot getDoodle no DoodleContext.Provider element in parents');\r\n    },\r\n    addDoodle: (params) => {\r\n        console.error('Error: Cannot addDoodle no DoodleContext.Provider element in parents');\r\n    },\r\n    updateDoodle: (params, callback) => {\r\n        console.error('Error: Cannot updateDoodle no DoodleContext.Provider element in parents');\r\n    },\r\n    doodles: [],\r\n    doodleList: {},\r\n    page: 0,\r\n    totalPages: 0,\r\n    limit: 0,\r\n    total: 0,\r\n    pageTotal: 0,\r\n};\r\n\r\nexport const DoodleContext = React.createContext(Context);\r\n\r\nexport interface getDoodlesQuery {\r\n    discontinued?: boolean;\r\n    limit?: number;\r\n}\r\n\r\nexport interface addDoodleParams {\r\n    title: string;\r\n    details: string;\r\n    _imageId?: string;\r\n}\r\n\r\nexport interface updateDoodleParams {\r\n    _id?: string;\r\n    title?: string;\r\n    details?: string;\r\n    _imageId?: string;\r\n    discontinued?: boolean;\r\n}\r\n\r\nexport interface Doodle {\r\n    _doodleId: string;\r\n    title: string;\r\n    details: string;\r\n    _imageId: string;\r\n    discontinued: boolean;\r\n}\r\n\r\nexport interface DoodleWrapperProps {\r\n  initialState?: DoodleWrapperState;\r\n}\r\n\r\nexport interface DoodleWrapperState {\r\n    doodles: string[];\r\n    doodleList: {\r\n        [key: string]: Doodle;\r\n    };\r\n    page: number;\r\n    totalPages: number;\r\n    limit: number;\r\n    total: number;\r\n    pageTotal: number;\r\n    doodle?: Doodle;\r\n}\r\n\r\nexport interface DoodleWrapperMethods {\r\n    getDoodles: (query: getDoodlesQuery) => void,\r\n    getDoodle: (_doodleId: string) => void,\r\n    addDoodle: (params: addDoodleParams, callback: (error: boolean, _doodleId: string) => void) => void,\r\n    updateDoodle: (params: updateDoodleParams, callback: (error: boolean) => void) => void;\r\n}\r\n\r\nexport class DoodleWrapper extends React.Component<DoodleWrapperProps, DoodleWrapperState> implements DoodleWrapperMethods {\r\n    public static defaultProps: DoodleWrapperProps = {\r\n        initialState: {\r\n            doodles: [],\r\n            doodleList: {},\r\n            page: 0,\r\n            totalPages: 0,\r\n            limit: 0,\r\n            total: 0,\r\n            pageTotal: 0,\r\n        },\r\n    }\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = this.props.initialState;\r\n        this.getDoodles = this.getDoodles.bind(this);\r\n        this.getDoodle = this.getDoodle.bind(this);\r\n        this.addDoodle = this.addDoodle.bind(this);\r\n    }\r\n\r\n    getDoodles(query) {\r\n        let querydefaults: getDoodlesQuery = {\r\n            limit: 100,\r\n        };\r\n        if (query) {\r\n            if (!query.discontinued) {\r\n                querydefaults.discontinued = false;\r\n            }\r\n            if (query.limit) {\r\n                querydefaults.limit = query.limit;\r\n            }\r\n        } else {\r\n            querydefaults.discontinued = false;\r\n        }\r\n\r\n        let _query = stringify(querydefaults);\r\n        _query = _query ? '?'+_query : '';\r\n\r\n        const request = new Request('/api/doodle' + _query, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n        });\r\n\r\n        fetch(request)\r\n        .then(function(response) {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = String(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((body) => {\r\n            this.setState(() => {\r\n                return {\r\n                    page: body.page,\r\n                    totalPages: body.totalPages,\r\n                    limit: body.limit,\r\n                    total: body.total,\r\n                    pageTotal: body.pageTotal,\r\n                    doodles: body.doodles,\r\n                };\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            this.setState(() => {\r\n                return {\r\n                    doodles: null,\r\n                    page: null,\r\n                    totalPages: null,\r\n                    limit: null,\r\n                    total: null,\r\n                    pageTotal: null,\r\n                };\r\n            });\r\n        });\r\n    }\r\n\r\n    getDoodle(_doodleId) {\r\n        let query = stringify({\r\n            field: [\r\n                '_id',\r\n                'title',\r\n                'details',\r\n                '_imageId',\r\n                'discontinued',\r\n            ],\r\n            format: 'json',\r\n        });\r\n        query = query ? '?'+query : '';\r\n\r\n        const request = new Request('/api/doodle/' + _doodleId + query, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            }   \r\n        });\r\n\r\n        fetch(request)\r\n        .then((response) => {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = String(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((body) => {\r\n            const { _id, title, details, _imageId, discontinued } = body;\r\n            this.setState((preState) => {\r\n                preState.doodleList[_id] = {\r\n                    _doodleId: _id,\r\n                    title: title,\r\n                    details: details,\r\n                    _imageId: _imageId,\r\n                    discontinued: discontinued,\r\n                };\r\n                return preState;\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n\r\n    }\r\n\r\n    addDoodle(params, callback) {           \r\n        const payload: addDoodleParams = {\r\n            title: params.title,\r\n            details: params.details,\r\n        }\r\n\r\n        if ('_imageId' in params) {\r\n            payload._imageId = params._imageId;\r\n        }\r\n\r\n        const request = new Request('/api/doodle', {\r\n            method: 'POST',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: JSON.stringify(payload), \r\n        });\r\n        fetch(request)\r\n        .then(function(response) {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = JSON.stringify(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then(function(response) {\r\n            return response.json();\r\n        })\r\n        .then(function(response) {\r\n            callback(false, response._id);\r\n        })\r\n        .catch(function(error) {\r\n            callback(true);\r\n        });\r\n    }\r\n\r\n    updateDoodle(params: updateDoodleParams, callback) {\r\n\r\n        let payload: updateDoodleParams = {\r\n            _id: params._id\r\n        };\r\n\r\n        if ('title' in params) {\r\n            payload.title = params.title;\r\n        }\r\n        if ('details' in params) {\r\n            payload.details = params.details;\r\n        }\r\n        if ('_imageId' in params) {\r\n            payload._imageId = params._imageId;\r\n        }\r\n        if ('discontinued' in params) {\r\n            payload.discontinued = params.discontinued;\r\n        }\r\n\r\n        const request = new Request('/api/doodle', {\r\n            method: 'PUT',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: JSON.stringify(payload), \r\n        });\r\n        fetch(request)\r\n        .then((response) => {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText)\r\n                error.message = String(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            callback(false);\r\n        })\r\n        .catch((error) => {\r\n            callback(true);\r\n        });\r\n    }\r\n\r\n    render() {\r\n    const { getDoodles, getDoodle, addDoodle, updateDoodle } = this;\r\n    const { doodles, doodleList, page, totalPages, limit, total, pageTotal } = this.state;\r\n        const context: IDoodleContext = {\r\n            getDoodles: getDoodles,\r\n            getDoodle: getDoodle,\r\n            addDoodle: addDoodle,\r\n            updateDoodle: updateDoodle,\r\n            doodles: doodles,\r\n            doodleList: doodleList,\r\n            page: page,\r\n            totalPages: totalPages,\r\n            limit: limit,\r\n            total: total,\r\n            pageTotal: pageTotal,\r\n        }\r\n        return (\r\n            <DoodleContext.Provider value={context} >\r\n                {this.props.children}\r\n            </DoodleContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default DoodleWrapper;\r\n\r\nexport interface doodleProviderOptions {\r\n  props?: DoodleWrapperProps;\r\n}\r\n\r\nexport const doodleProvider = (Component, options?: doodleProviderOptions) => {\r\n  class DoodleProvider extends React.Component<null, null> {\r\n    render () {\r\n      let doodleWrapperProps: DoodleWrapperProps = {};\r\n      if (options) {\r\n        if ('props' in options) {\r\n          doodleWrapperProps = options.props;\r\n        }\r\n      }\r\n      return (\r\n        <DoodleWrapper {...doodleWrapperProps}>\r\n          <Component {...this.props} />  \r\n        </DoodleWrapper>\r\n      );\r\n    }\r\n  }\r\n  \r\n    return DoodleProvider;\r\n}\r\n\r\nexport const doodleConsumer = (Component) => {\r\n    class DoodleConsumer extends React.Component<any> {\r\n        render () {\r\n            let { _doodleId } = this.props;\r\n            if ('match' in this.props) {\r\n                if ('_doodleId' in this.props.match.params) {\r\n                    _doodleId = this.props.match.params._doodleId;\r\n                }\r\n            }\r\n            return (\r\n            <DoodleContext.Consumer>\r\n                {(context) => {\r\n                    if (_doodleId) {\r\n                        context.doodle = {\r\n                            _doodleId: _doodleId,\r\n                            title: '',\r\n                            details: RichTextEditor.createEmptyValue().toString('html'),\r\n                            _imageId: null,\r\n                            discontinued: false,\r\n                        };\r\n\r\n                        if (_doodleId in context.doodleList) {\r\n\r\n                            const doodle = context.doodleList[_doodleId];\r\n                            context.doodle = {\r\n                                _doodleId: _doodleId,\r\n                                title:               'title' in doodle ? doodle.title : '',\r\n                                details:           'details' in doodle ? doodle.details : RichTextEditor.createEmptyValue().toString('html'),\r\n                                _imageId:     '_imageId' in doodle ? doodle._imageId : null,\r\n                                discontinued: 'discontinued' in doodle ? doodle.discontinued : false,\r\n                            };\r\n                        }\r\n                    }\r\n                    return (\r\n                        <Component {...this.props} {...{doodle: context}} />\r\n                    )\r\n                }}\r\n            </DoodleContext.Consumer>\r\n            );\r\n        }\r\n    }\r\n    return DoodleConsumer;\r\n}","'use strict';\n\nimport * as React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { NavLink } from \"react-router-dom\";\nimport DoodlePage from './doodle-page';\nimport NoMatch from '../no-match';\n\nclass DoodleSwitch extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"doodle-switch-wrapper\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<NavLink exact to={'/doodle'} activeClassName=\"selected\" ><h2>Doodles</h2></NavLink>\n                    <Switch>\n\t\t\t\t\t\t<Route exact path=\"/doodle\" component={DoodlePage} />\n\t\t\t\t\t\t<Route exact path=\"/doodle/new\" component={DoodlePage} />\n\t\t\t\t\t\t<Route exact path=\"/doodle/item/:_doodleId\" component={DoodlePage} />\n\t\t\t\t\t\t<Route exact path=\"/doodle/edit/:_doodleId\" component={DoodlePage} />\n                        <Route component={NoMatch}/>\n                    </Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default DoodleSwitch;","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport RichTextEditor from 'react-rte';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport ImageTag from '../image/image-tag';\r\nimport { IUserContext, userConsumer } from '../user/user-provider';\r\nimport { doodleConsumer, IDoodleContext } from './doodle-provider';\r\nimport { BackArrow, NextArrow } from './doodle-changer';\r\nimport { Popout } from '../utilities/styled.components';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: auto auto auto min-content;\r\n\r\n\t> .back {\r\n\t\tgrid-row: 1;\r\n\t}\r\n\r\n\t> .edit {\r\n\t\tgrid-column: 2;\r\n\t\talign-self: center;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t> .next {\r\n\t\tgrid-column: 3;  \r\n\t\tgrid-row: 1;\r\n\t}\r\n\r\n\t> .exit {\r\n\t\tcolor: white;\r\n\t\tbackground-color: #e98383;\r\n\t\twidth: 2em;\r\n\t\theight: 2em;\r\n\t\tline-height: 2;\r\n\t\tpadding: 0;\r\n\t\ttext-align: center;\r\n\t\tgrid-column: 4;  \r\n\t}\r\n\r\n\t> .content {\r\n\t\tgrid-column-start: 1;\r\n\t\tgrid-column-end: -1;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tflex-wrap: wrap;\r\n\t\t\r\n\t\t> * {\r\n\t\t\tpadding: 1em;\r\n\t\t}\r\n\t\t> img {\r\n\t\t\tmax-width: 100%;\r\n\t\t\talign-self: center;\r\n\t\t}\r\n\t}\r\n\r\n\t@media (min-width: 575px) {\r\n\t\tgrid-template-columns: auto 1fr auto;\r\n\t\t> .back {\r\n\t\t\tgrid-row: unset;\r\n\t\t}\r\n\t\t\r\n\t\t> .edit {\r\n\t\t\ttext-align: left; \r\n\t\t}\r\n\r\n\t\t> .next {\r\n\t\t\tgrid-row: unset;\r\n\t\t}\r\n\r\n\t\t> .exit {\r\n\t\t\tgrid-column: 3;  \r\n\t\t}\r\n\r\n\t\t> .content {\r\n\t\t\tgrid-column: unset;\r\n\t\t}\r\n\t}\r\n\r\n`;\r\n\r\nexport interface DoodleProps {\r\n    doodle: IDoodleContext;\r\n\tuser: IUserContext;\r\n}\r\n\r\nexport interface DoodleState {\r\n\tredirect: boolean;\r\n}\r\n\r\nclass Doodle extends React.Component<DoodleProps, DoodleState> {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tredirect: false,\r\n\t\t}\r\n\t\tthis.exit = this.exit.bind(this);\r\n\t}\r\n\t\r\n\texit(event) {\r\n\t\tconsole.log('keydown')\r\n\t\tif (event.key == \"Escape\" || event.key == \"Esc\" || event.keyCode == 27) {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {redirect: true};\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    componentDidMount() {\r\n        const {_doodleId} = this.props.doodle.doodle;\r\n\t\tthis.props.doodle.getDoodle(_doodleId);\r\n\t\tdocument.addEventListener('keydown', this.exit, false);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps: DoodleProps, prevState) {\r\n        const {_doodleId} = this.props.doodle.doodle;\r\n\t\tif (prevProps.doodle.doodle._doodleId != _doodleId) {\r\n\t\t\tthis.props.doodle.getDoodle(_doodleId);\r\n\t\t}\r\n\t\tdocument.removeEventListener('keydown', this.exit, false);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { redirect } = this.state;\r\n\t\tconst { _doodleId, title, _imageId, details } = this.props.doodle.doodle;\r\n\t\tconst { admin } = this.props.user;\r\n\r\n\t\tconst coverImageElem = _imageId ? (<ImageTag _imageId={_imageId} />) : '';\r\n\r\n\t\tif (redirect) {\r\n\t\t\treturn (\r\n\t\t\t\t<Redirect to='/doodle/'/>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Popout onKeyDown={this.exit}>\r\n\t\t\t\t<Wrapper>\r\n\t\t\t\t\t{admin ? <Link className=\"edit\" to={'/doodle/edit/' + _doodleId}>EDIT</Link> : ''}\r\n\t\t\t\t\t<Link className=\"exit\" to='/doodle/'>X</Link>\r\n\t\t\t\t\t<BackArrow _doodleId={_doodleId} />\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t{coverImageElem}\r\n\t\t\t\t\t\t{title || details != '<p><br></p>' ? <div>\r\n\t\t\t\t\t\t\t{title ? <h2 className=\"title\">{title}</h2> : ''}\r\n\t\t\t\t\t\t\t{details != '<p><br></p>' ? <RichTextEditor value={RichTextEditor.createValueFromString(details, 'html')} readOnly={true} /> : ''}\r\n\t\t\t\t\t\t</div> : ''}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<NextArrow _doodleId={_doodleId} />\r\n\t\t\t\t</Wrapper>\r\n\t\t\t</Popout>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nexport default userConsumer(doodleConsumer(Doodle));","'use strict';\r\n\r\n// import styled from 'styled-components'\r\n\r\n\r\nexport interface ThemeInterface {\r\n\tprimaryColor: string;\r\n\tprimaryColorInverted: string;\r\n\tblue: string;\r\n\tdarkblue: string;\r\n\tlightblue: string;\r\n\thighlightblue: string;\r\n\tgray: string;\r\n}\r\n\r\nimport * as styledComponents from 'styled-components';\r\nimport { ThemedStyledComponentsModule } from 'styled-components';\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<ThemeInterface>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\nexport const defaultTheme: ThemeInterface = {\r\n\tprimaryColor: '#172B57', \r\n\tprimaryColorInverted: '#4d5f86',\r\n\tblue: '#002157',\r\n\tdarkblue: '#172B57',\r\n\tlightblue: '#3B5CA3',\r\n\thighlightblue: '#4d5f86',\r\n\tgray: 'gray',\r\n};\r\n\r\nexport const Popout = styled.div`\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: rgba(0, 0, 0, 0.85);\r\n\tz-index: 10000;\r\n\t> * {\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tmargin: 0;\r\n\t\toverflow: auto;    \r\n\t\tmax-height: 100%;\r\n\t\tpadding: 2em 0;\r\n\t}\r\n\t\r\n`;\r\n","module.exports = { prefix: 'fas', iconName: 'caret-left', icon: [192, 512, [], \"f0d9\", \"M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z\"] };","module.exports = { prefix: 'fas', iconName: 'caret-right', icon: [192, 512, [], \"f0da\", \"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z\"] };"],"sourceRoot":""}