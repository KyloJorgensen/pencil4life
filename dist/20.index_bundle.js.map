{"version":3,"sources":["webpack:///./client/src/components/user/resetpassword.tsx","webpack:///./client/src/components/utilities/styled.components.tsx"],"names":[],"mappings":"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","file":"20.index_bundle.js","sourcesContent":["'use strict';\r\n\r\nimport * as React from 'react';\r\nimport { Redirect, NavLink, match } from \"react-router-dom\";\r\nimport { IUserContext, userConsumer } from './user-provider';\r\nimport styled, { Popout, LoadingSpinner } from '../utilities/styled.components';\r\n\r\nexport const ResetPasswordPageWrapper = styled.div`\r\n\t.reset-password-container {\r\n\t\tmax-width: 300px;\r\n\t\tinput {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n\t@media (min-width: 300px) {\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\r\n\t\t.reset-password-container {\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport interface ResetPasswordProps {\r\n\tuser: IUserContext;\r\n\tmatch: match<{\r\n\t\tuserId: string;\r\n\t\treset_code: string;\r\n\t}>;\r\n}\r\n\r\nexport interface ResetPasswordState {\r\n\tredirect: boolean;\r\n\tpasswordMismtach: boolean;\r\n\tvaildCode: boolean;\r\n\tloading: boolean;\r\n}\r\n\r\nexport interface ResetPasswordMethods {\r\n\thitKey: (event: UIEvent) => void;\r\n\tresetPassword: (event: UIEvent) => void;\r\n\tresetPasswordResult: (error: boolean) => void;\r\n\tredirect: (event: UIEvent) => void;\r\n}\r\n\r\n\r\nclass ResetPassword extends React.Component<ResetPasswordProps, ResetPasswordState> implements ResetPasswordMethods {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        \tredirect: false,\r\n        \tpasswordMismtach: false,\r\n\t\t\tvaildCode: true,\r\n\t\t\tloading: false,\r\n        };\r\n\r\n\t\tthis.hitKey = this.hitKey.bind(this);\r\n\t\tthis.resetPassword = this.resetPassword.bind(this);\r\n\t\tthis.resetPasswordResult = this.resetPasswordResult.bind(this);\r\n\t\tthis.redirect = this.redirect.bind(this);\r\n    }\r\n\r\n\thitKey(event) {\r\n\t\tif (event.key == 'Enter') {\r\n            this.resetPassword(event);\r\n        }\r\n\t}\r\n\r\n    resetPassword(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlet newpassword = this.newpasswordRef.current.value;\r\n\t\tlet confirmpassword = this.confirmpasswordRef.current.value;\r\n\r\n\t\tif (newpassword == confirmpassword) {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpasswordMismtach: false,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tthis.props.user.resetPassword(newpassword, this.props.match.params.userId, this.props.match.params.reset_code, this.resetPasswordResult);\r\n\t\t} else {\r\n\t\t\tthis.newpasswordRef.current.value = '';\r\n\t\t\tthis.confirmpasswordRef.current.value = '';\r\n\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpasswordMismtach: true,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    resetPasswordResult(error) {\r\n    \tif (error) {\r\n\t\t\tthis.newpasswordRef.current.value = '';\r\n\t\t\tthis.confirmpasswordRef.current.value = '';\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpasswordMismtach: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t};\r\n\t\t\t});\r\n    \t} else {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tthis.redirect();\r\n    \t} \r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { userId, reset_code } = this.props.match.params;\r\n\t\tthis.props.user.checkResetCode(userId, reset_code, (vaild) => {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {vaildCode: vaild};\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tredirect() {\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {\r\n\t\t\t\tredirect: true,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tnewpasswordRef: React.RefObject<HTMLInputElement> = React.createRef();\r\n\tconfirmpasswordRef: React.RefObject<HTMLInputElement> = React.createRef();\r\n\r\n\trender() {\r\n\t\tconst { hitKey, resetPassword, newpasswordRef, confirmpasswordRef } = this;\r\n\t\tconst { redirect, passwordMismtach, vaildCode, loading} = this.state;\r\n\t\tconst { userId, reset_code } = this.props.match.params;\r\n\t\tif (redirect) {\r\n\t\t\treturn (<Redirect to='/profile'/>);\r\n\t\t}\r\n\r\n\r\n\t\tif (!userId || !reset_code || !vaildCode) {\r\n\t\t\treturn (<Redirect to='/forgotpassword'/>);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ResetPasswordPageWrapper>\r\n\t\t\t\t<div className='reset-password-container'>\r\n\t\t\t\t\t<h2>Reset Password</h2>\r\n\t\t\t\t\t<label>New Password{passwordMismtach ? (<span className=\"errortext\" >*</span>) : ''}</label>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<input type='password' onKeyPress={hitKey} placeholder=\"New Password\" ref={newpasswordRef} />\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<label>Confrim New Password{passwordMismtach ? (<span className=\"errortext\" >* Must match new Password</span>) : ''}</label>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<input type='password' onKeyPress={hitKey} placeholder=\"New Password\" ref={confirmpasswordRef} />\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<input type='submit' onClick={resetPassword} value='SAVE' />\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Popout>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<LoadingSpinner/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Popout>\r\n\t\t\t\t) : ''}\r\n\t\t\t</ResetPasswordPageWrapper>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nexport default userConsumer(ResetPassword);","'use strict';\r\n\r\n// import styled from 'styled-components'\r\n\r\n\r\nexport interface ThemeInterface {\r\n\tprimaryColor: string;\r\n\tprimaryColorInverted: string;\r\n\tblue: string;\r\n\tdarkblue: string;\r\n\tlightblue: string;\r\n\thighlightblue: string;\r\n\tgray: string;\r\n}\r\n\r\nimport * as styledComponents from 'styled-components';\r\nimport { ThemedStyledComponentsModule } from 'styled-components';\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<ThemeInterface>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\nexport const defaultTheme: ThemeInterface = {\r\n\tprimaryColor: '#172B57', \r\n\tprimaryColorInverted: '#4d5f86',\r\n\tblue: '#002157',\r\n\tdarkblue: '#172B57',\r\n\tlightblue: '#3B5CA3',\r\n\thighlightblue: '#4d5f86',\r\n\tgray: 'gray',\r\n};\r\n\r\nexport const Popout = styled.div`\r\n\tcolor: white;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: rgba(0, 0, 0, 0.85);\r\n\tz-index: 10000;\r\n\t> * {\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tmargin: 0;\r\n\t\toverflow: auto;    \r\n\t\tmax-height: 100%;\r\n\t\tpadding: 2em 0;\r\n\t}\r\n\t\r\n`;\r\n\r\nexport const LoadingSpinner = styled.div`\r\n  color: #ffffff;\r\n  font-size: 90px;\r\n  text-indent: -9999em;\r\n  overflow: hidden;\r\n  width: 1em;\r\n  height: 1em;\r\n  border-radius: 50%;\r\n  margin: 72px auto;\r\n  position: relative;\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation: load6 1.7s infinite ease, round 1.7s infinite ease;\r\n  animation: load6 1.7s infinite ease, round 1.7s infinite ease;\r\n\t\r\n\t@-webkit-keyframes load6 {\r\n\t\t0% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\r\n\t\t}\r\n\t\t5%,\r\n\t\t95% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\r\n\t\t}\r\n\t\t10%,\r\n\t\t59% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;\r\n\t\t}\r\n\t\t20% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;\r\n\t\t}\r\n\t\t38% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\r\n\t\t}\r\n\t}\r\n\t@keyframes load6 {\r\n\t\t0% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\r\n\t\t}\r\n\t\t5%,\r\n\t\t95% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\r\n\t\t}\r\n\t\t10%,\r\n\t\t59% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;\r\n\t\t}\r\n\t\t20% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;\r\n\t\t}\r\n\t\t38% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tbox-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\r\n\t\t}\r\n\t}\r\n\t@-webkit-keyframes round {\r\n\t\t0% {\r\n\t\t\t-webkit-transform: rotate(0deg);\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\t-webkit-transform: rotate(360deg);\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t\t}\r\n\t\t@keyframes round {\r\n\t\t0% {\r\n\t\t\t-webkit-transform: rotate(0deg);\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\t-webkit-transform: rotate(360deg);\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n`;"],"sourceRoot":""}