{"version":3,"sources":["webpack:///./client/src/components/user/login-page.tsx","webpack:///./node_modules/object-path/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAa;;;;;;;;;;;AAEkB;AACW;AACmB;AACA;AAGnB;AAiB1C;IAAwB,6BAAiE;IACrF,mBAAY,KAAK;QAAjB,YACI,kBAAM,KAAK,CAAC,SAQf;QAEJ,cAAQ,GAAsC,+CAAe,EAAE,CAAC;QAEhE,iBAAW,GAAuC,+CAAe,EAAE,CAAC;QAX7D,KAAI,CAAC,KAAK,GAAG;YACZ,OAAO,EAAE,KAAK;SACd,CAAC;QAER,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACrC,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACnC,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC7C,CAAC;IAMJ,0BAAM,GAAN,UAAO,KAAK;QACX,IAAI,KAAK,CAAC,GAAG,IAAI,OAAO,EAAE;YAChB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACrB;IACR,CAAC;IAED,yBAAK,GAAL,UAAM,KAAK;QACV,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,KAAK,EAAE,QAAQ,CAAC;QACpB,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,iBAAiB;QACjB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE;YAChC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;SACpC;aAAM;YACN,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;YACxB,OAAO,CAAC,KAAK,GAAG;gBACf,OAAO,EAAE,mBAAmB;aAC5B;SACD;QACD,oBAAoB;QACpB,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAC;YAClC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC;SAC1C;aAAM;YACN,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;YACxB,OAAO,CAAC,QAAQ,GAAG;gBAClB,OAAO,EAAE,sBAAsB;aAC/B;SACD;QAED,IAAI,OAAO,EAAE;YACZ,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC;gBACb,OAAO,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC;YACxB,CAAC,CAAC,CAAC;YACH,OAAO;SACP;QACD,6CAA6C;QAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAEzD,IAAI,CAAC,QAAQ,CAAC;YACb,OAAO,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC;QACxB,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,+BAAW,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC;gBACb,OAAO,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC;YACxB,CAAC,CAAC,CAAC;SACA;IACL,CAAC;IAED,0BAAM,GAAN;QACO,aAA+C,EAA7C,sBAAQ,EAAE,4BAAW,EAAE,kBAAM,EAAE,gBAAK,CAAU;QAC9C,gCAAO,CAAe;QACxB,wBAAuC,EAArC,0BAAU,EAAE,gBAAK,CAAqB;QAI9C,IAAI,UAAU,IAAI,KAAK,EAAE;YACxB,IAAI,+CAAc,CAAC,IAAI,EAAE,mCAAmC,CAAC,EAAE;gBAC9D,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,EAAE;oBAC3C,OAAO,CAAC,oDAAC,yDAAQ,IAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,GAAI,CAAC,CAAC;iBAClE;aACD;YACD,OAAO,CAAC,oDAAC,yDAAQ,IAAC,EAAE,EAAC,GAAG,GAAE,CAAC,CAAC;SAC5B;QAED,OAAO,CACN,6DAAK,SAAS,EAAC,oBAAoB;YAClC,6DAAK,SAAS,EAAC,WAAW;gBACzB,6DAAK,SAAS,EAAC,kBAAkB,EAAC,QAAQ,EAAE,KAAK;oBAChD,oDAAC,wDAAO,IAAC,EAAE,EAAC,QAAQ;wBAAC,wEAAc,CAAU;oBAC7C,+DAAK;oBACL,+DAAO,OAAO,EAAC,OAAO;wBAAC,wEAAa,CAAQ;oBAC5C,+DAAK;oBACF,+DAAO,IAAI,EAAC,MAAM,EAAC,UAAU,EAAE,MAAM,EAAE,WAAW,EAAC,UAAU,EAAC,IAAI,EAAC,OAAO,EAAC,GAAG,EAAE,QAAQ,EAAE,YAAY,EAAC,OAAO,EAAC,QAAQ,SAAG;oBACzH,OAAO,CAAC,CAAC,CAAC,CAAC,8DAAM,SAAS,EAAC,WAAW,iBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE;oBAChE,+DAAK;oBACL,+DAAO,OAAO,EAAC,UAAU;wBAAC,2EAAgB,CAAQ;oBACrD,+DAAK;oBACF,+DAAO,IAAI,EAAC,UAAU,EAAC,UAAU,EAAE,MAAM,EAAE,WAAW,EAAC,gBAAgB,EAAC,IAAI,EAAC,UAAU,EAAC,GAAG,EAAE,WAAW,EAAE,YAAY,EAAC,UAAU,EAAC,QAAQ,SAAG;oBAC/I,OAAO,CAAC,CAAC,CAAC,CAAC,8DAAM,SAAS,EAAC,WAAW,iBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE;oBAChE,+DAAK;oBACL,+DAAO,IAAI,EAAC,QAAQ,EAAC,OAAO,EAAE,KAAK,EAAE,KAAK,EAAC,OAAO,GAAE,CAC/C;gBACN;oBAAG,oDAAC,qDAAI,IAAC,SAAS,EAAC,KAAK,EAAC,EAAE,EAAE,iBAAiB,sBAAwB;;oBAAG,oDAAC,qDAAI,IAAC,SAAS,EAAC,KAAK,EAAC,EAAE,EAAE,SAAS,aAAgB,CAAI,CAC3H,CACD,CACN,CAAC;IACH,CAAC;IACF,gBAAC;AAAD,CAAC,CA9GuB,+CAAe,GA8GtC;AAAA,CAAC;AAEF,+DAAe,mEAAY,CAAC,mEAAU,CAAC,SAAS,CAAC,CAAC,EAAC;;;;;;;;;;;;ACzInD;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AAAA;AAAA;AAAA;AACA,GAAG,QAGH;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO,IAAI;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC,4BAA4B;AAChE;AACA,CAAC","file":"29.index_bundle.js","sourcesContent":["'use strict';\n\nimport * as React from 'react';\nimport * as objectPath from 'object-path';\nimport { withRouter, Link, NavLink } from 'react-router-dom';\nimport { IUserContext, userConsumer } from './user-provider';\nimport { Location } from 'history';\n\nimport {Redirect} from 'react-router-dom';\n\nexport interface LoginPageProps {\n\tuser: IUserContext;\n\tlocation: Location;\n}\n\nexport interface LoginPageState {\n\tbadAuth: boolean;\n}\n\nexport interface LoginPageMethods {\n\thitKey: (event: UIEvent) => void;\n\tlogin: (event: UIEvent) => void;\n\tloginResult: (result: boolean) => void;\n}\n\nclass LoginPage extends React.Component<LoginPageProps, LoginPageState, LoginPageMethods> {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \tbadAuth: false,\n        };\n\n\t\tthis.hitKey = this.hitKey.bind(this);\n\t\tthis.login = this.login.bind(this);\n\t\tthis.loginResult = this.loginResult.bind(this);\n    }\n\n\temailRef: React.RefObject<HTMLInputElement> = React.createRef();\n\t\n\tpasswordRef: React.RefObject<HTMLInputElement > = React.createRef();\n\t\n\thitKey(event) {\n\t\tif (event.key == 'Enter') {\n            this.login(event);\n        }\n\t}\n\n\tlogin(event) {\n\t\tevent.preventDefault();\n\t\tlet email, password;\n\t\tlet invalid = null;\n\t\t// Validate email\n\t\tif (this.emailRef.current.value) {\n\t\t\temail = this.emailRef.current.value;\n\t\t} else {\n\t\t\tinvalid = invalid || {};\n\t\t\tinvalid.email = {\n\t\t\t\tmessage: \"Email is Required\"\n\t\t\t}\n\t\t}\n\t\t// Validate password\n\t\tif (this.passwordRef.current.value){\n\t\t\tpassword = this.passwordRef.current.value;\n\t\t} else {\n\t\t\tinvalid = invalid || {};\n\t\t\tinvalid.password = {\n\t\t\t\tmessage: \"Password is Required\"\n\t\t\t}\n\t\t}\n\n\t\tif (invalid) {\n\t\t\tthis.emailRef.current.value = '';\n\t\t\tthis.passwordRef.current.value = '';\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {badAuth: true};\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t// Login in with vaildated email and password\n\t\tthis.props.user.login(email, password, this.loginResult);\n\n\t\tthis.setState(() => {\n\t\t\treturn {badAuth: true};\n\t\t});\n\t}\n\n\tloginResult(result) {\n    \tif (!result) {\n\t\t\tthis.emailRef.current.value = '';\n\t\t\tthis.passwordRef.current.value = '';\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {badAuth: true};\n\t\t\t});\n    \t} \n\t}\n\n\trender() {\n\t\tconst { emailRef, passwordRef, hitKey, login } = this;\n\t\tconst { badAuth } = this.state\n\t\tconst { userAccess, admin } = this.props.user;\n\n\n\n\t\tif (userAccess || admin) {\n\t\t\tif (objectPath.has(this, 'props.location.state.redirectPath')) {\n\t\t\t\tif (this.props.location.state.redirectPath) {\n\t\t\t\t\treturn (<Redirect to={this.props.location.state.redirectPath} />);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (<Redirect to='/'/>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"login-page-wrapper\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"login-login-form\" onSubmit={login} >\n\t\t\t\t\t\t<NavLink to='/login'><h2>Login</h2></NavLink>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<label htmlFor=\"email\"><b>Email:</b></label>\n\t\t\t\t\t\t<br/>\n    \t\t\t\t\t<input type=\"text\" onKeyPress={hitKey} placeholder=\"coolhats\" name=\"email\" ref={emailRef} autoComplete='email' required />\n    \t\t\t\t\t{badAuth ? (<span className=\"errortext\" >* Required</span>) : ''}\n    \t\t\t\t\t<br/>\n    \t\t\t\t\t<label htmlFor=\"password\"><b>Password:</b></label>\n\t\t\t\t\t\t<br/>\n    \t\t\t\t\t<input type=\"password\" onKeyPress={hitKey} placeholder=\"Enter Password\" name=\"password\" ref={passwordRef} autoComplete='password' required />\n\t\t\t\t\t\t{badAuth ? (<span className=\"errortext\" >* Required</span>) : ''}\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type=\"submit\" onClick={login} value=\"LOGIN\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p><Link className=\"btn\" to={'/forgotpassword'}>Forgot Password</Link>or <Link className=\"btn\" to={'/signup'} >Signup</Link></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(withRouter(LoginPage));","(function (root, factory){\n  'use strict';\n\n  /*istanbul ignore next:cant test*/\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else {\n    // Browser globals\n    root.objectPath = factory();\n  }\n})(this, function(){\n  'use strict';\n\n  var toStr = Object.prototype.toString;\n  function hasOwnProperty(obj, prop) {\n    if(obj == null) {\n      return false\n    }\n    //to handle objects with null prototypes (too edge case?)\n    return Object.prototype.hasOwnProperty.call(obj, prop)\n  }\n\n  function isEmpty(value){\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) && value.length === 0) {\n        return true;\n    } else if (typeof value !== 'string') {\n        for (var i in value) {\n            if (hasOwnProperty(value, i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n  }\n\n  function toString(type){\n    return toStr.call(type);\n  }\n\n  function isObject(obj){\n    return typeof obj === 'object' && toString(obj) === \"[object Object]\";\n  }\n\n  var isArray = Array.isArray || function(obj){\n    /*istanbul ignore next:cant test*/\n    return toStr.call(obj) === '[object Array]';\n  }\n\n  function isBoolean(obj){\n    return typeof obj === 'boolean' || toString(obj) === '[object Boolean]';\n  }\n\n  function getKey(key){\n    var intKey = parseInt(key);\n    if (intKey.toString() === key) {\n      return intKey;\n    }\n    return key;\n  }\n\n  function factory(options) {\n    options = options || {}\n\n    var objectPath = function(obj) {\n      return Object.keys(objectPath).reduce(function(proxy, prop) {\n        if(prop === 'create') {\n          return proxy;\n        }\n\n        /*istanbul ignore else*/\n        if (typeof objectPath[prop] === 'function') {\n          proxy[prop] = objectPath[prop].bind(objectPath, obj);\n        }\n\n        return proxy;\n      }, {});\n    };\n\n    function hasShallowProperty(obj, prop) {\n      return (options.includeInheritedProps || (typeof prop === 'number' && Array.isArray(obj)) || hasOwnProperty(obj, prop))\n    }\n\n    function getShallowProperty(obj, prop) {\n      if (hasShallowProperty(obj, prop)) {\n        return obj[prop];\n      }\n    }\n\n    function set(obj, path, value, doNotReplace){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (typeof path === 'string') {\n        return set(obj, path.split('.').map(getKey), value, doNotReplace);\n      }\n      var currentPath = path[0];\n      var currentValue = getShallowProperty(obj, currentPath);\n      if (path.length === 1) {\n        if (currentValue === void 0 || !doNotReplace) {\n          obj[currentPath] = value;\n        }\n        return currentValue;\n      }\n\n      if (currentValue === void 0) {\n        //check if we assume an array\n        if(typeof path[1] === 'number') {\n          obj[currentPath] = [];\n        } else {\n          obj[currentPath] = {};\n        }\n      }\n\n      return set(obj[currentPath], path.slice(1), value, doNotReplace);\n    }\n\n    objectPath.has = function (obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      } else if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      if (!path || path.length === 0) {\n        return !!obj;\n      }\n\n      for (var i = 0; i < path.length; i++) {\n        var j = getKey(path[i]);\n\n        if((typeof j === 'number' && isArray(obj) && j < obj.length) ||\n          (options.includeInheritedProps ? (j in Object(obj)) : hasOwnProperty(obj, j))) {\n          obj = obj[j];\n        } else {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    objectPath.ensureExists = function (obj, path, value){\n      return set(obj, path, value, true);\n    };\n\n    objectPath.set = function (obj, path, value, doNotReplace){\n      return set(obj, path, value, doNotReplace);\n    };\n\n    objectPath.insert = function (obj, path, value, at){\n      var arr = objectPath.get(obj, path);\n      at = ~~at;\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n      arr.splice(at, 0, value);\n    };\n\n    objectPath.empty = function(obj, path) {\n      if (isEmpty(path)) {\n        return void 0;\n      }\n      if (obj == null) {\n        return void 0;\n      }\n\n      var value, i;\n      if (!(value = objectPath.get(obj, path))) {\n        return void 0;\n      }\n\n      if (typeof value === 'string') {\n        return objectPath.set(obj, path, '');\n      } else if (isBoolean(value)) {\n        return objectPath.set(obj, path, false);\n      } else if (typeof value === 'number') {\n        return objectPath.set(obj, path, 0);\n      } else if (isArray(value)) {\n        value.length = 0;\n      } else if (isObject(value)) {\n        for (i in value) {\n          if (hasShallowProperty(value, i)) {\n            delete value[i];\n          }\n        }\n      } else {\n        return objectPath.set(obj, path, null);\n      }\n    };\n\n    objectPath.push = function (obj, path /*, values */){\n      var arr = objectPath.get(obj, path);\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n\n      arr.push.apply(arr, Array.prototype.slice.call(arguments, 2));\n    };\n\n    objectPath.coalesce = function (obj, paths, defaultValue) {\n      var value;\n\n      for (var i = 0, len = paths.length; i < len; i++) {\n        if ((value = objectPath.get(obj, paths[i])) !== void 0) {\n          return value;\n        }\n      }\n\n      return defaultValue;\n    };\n\n    objectPath.get = function (obj, path, defaultValue){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (obj == null) {\n        return defaultValue;\n      }\n      if (typeof path === 'string') {\n        return objectPath.get(obj, path.split('.'), defaultValue);\n      }\n\n      var currentPath = getKey(path[0]);\n      var nextObj = getShallowProperty(obj, currentPath)\n      if (nextObj === void 0) {\n        return defaultValue;\n      }\n\n      if (path.length === 1) {\n        return nextObj;\n      }\n\n      return objectPath.get(obj[currentPath], path.slice(1), defaultValue);\n    };\n\n    objectPath.del = function del(obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      }\n\n      if (obj == null) {\n        return obj;\n      }\n\n      if (isEmpty(path)) {\n        return obj;\n      }\n      if(typeof path === 'string') {\n        return objectPath.del(obj, path.split('.'));\n      }\n\n      var currentPath = getKey(path[0]);\n      if (!hasShallowProperty(obj, currentPath)) {\n        return obj;\n      }\n\n      if(path.length === 1) {\n        if (isArray(obj)) {\n          obj.splice(currentPath, 1);\n        } else {\n          delete obj[currentPath];\n        }\n      } else {\n        return objectPath.del(obj[currentPath], path.slice(1));\n      }\n\n      return obj;\n    }\n\n    return objectPath;\n  }\n\n  var mod = factory();\n  mod.create = factory;\n  mod.withInheritedProps = factory({includeInheritedProps: true})\n  return mod;\n});\n"],"sourceRoot":""}