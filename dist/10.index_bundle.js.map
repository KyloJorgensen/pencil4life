{"version":3,"sources":["webpack:///./client/src/components/project/page/project-page-changer.tsx","webpack:///./client/src/components/project/page/project-page-edit.tsx","webpack:///./client/src/components/project/page/project-page-list-item.tsx","webpack:///./client/src/components/project/page/project-page-list.tsx","webpack:///./client/src/components/project/page/project-page-new.tsx","webpack:///./client/src/components/project/page/project-page-provider.tsx","webpack:///./client/src/components/project/page/project-page.tsx","webpack:///./client/src/components/project/project-edit.tsx","webpack:///./client/src/components/project/project-list-item.tsx","webpack:///./client/src/components/project/project-list.tsx","webpack:///./client/src/components/project/project-main.tsx","webpack:///./client/src/components/project/project-new.tsx","webpack:///./client/src/components/project/project-provider.tsx","webpack:///./client/src/components/project/project-switch.tsx","webpack:///./client/src/components/project/project.less?e889","webpack:///./client/src/components/project/project.tsx","webpack:///./client/src/components/utilities/styled.components.tsx","webpack:///./node_modules/@fortawesome/fontawesome-free-solid/faCaretLeft.js","webpack:///./node_modules/@fortawesome/fontawesome-free-solid/faCaretRight.js","webpack:///./client/src/components/project/project.less","webpack:///./node_modules/object-path/index.js"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC,4BAA4B;AAChE;AACA,CAAC","file":"10.index_bundle.js","sourcesContent":["'use strict';\r\n\r\nimport * as React from 'react';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport * as  fontawesome from '@fortawesome/fontawesome';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as faCaretRight from '@fortawesome/fontawesome-free-solid/faCaretRight';\r\nimport * as faCaretLeft from '@fortawesome/fontawesome-free-solid/faCaretLeft';\r\nimport { IUserContext, userConsumer } from '../../user/user-provider';\r\nimport { projectPageConsumer, IProjectPageContext } from './project-page-provider';\r\nimport styled from 'styled-components';\r\n\r\nfontawesome.library.add(faCaretRight, faCaretLeft);\r\n\r\nexport interface ProjectPageChangerProps {\r\n    projectPage: IProjectPageContext;\r\n    user: IUserContext;\r\n}\r\n\r\nclass ProjectPageChanger extends React.Component<ProjectPageChangerProps> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {_projectId, getProjectPages} = this.props.projectPage;\r\n    \tgetProjectPages(_projectId, {});\r\n    }\r\n\r\n\trender() {\r\n        const { projectPage } = this.props;\r\n        const { _projectId, projectPages } = this.props.projectPage;\r\n\t\tconst { _projectPageId, page } = 'projectPage' in this.props.projectPage ? this.props.projectPage.projectPage : {_projectPageId: '', page: 'MAIN'};\r\n        const { admin } = this.props.user;\r\n        \r\n        const pages = projectPages.map((page) => page);\r\n        pages.push('');\r\n        const index = pages.findIndex((page) => page == ('projectPage' in projectPage? projectPage.projectPage._projectPageId : ''));\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"project-page-changer-wrapper\" >\r\n\t\t\t\t{admin ? <p>\r\n                    <Link to={'/project/edit/'+ _projectId + '/' + _projectPageId }>EDIT</Link>\r\n                    <Link to={'/project/new/'+ _projectId + '/' }>NEW PAGE</Link>\r\n                </p> : ''}\r\n                <p>\r\n                    <Link to={'/project/item/'+_projectId+'/'+pages[(index+pages.length-1)%pages.length]} >\r\n                        <FontAwesomeIcon icon={[\"fas\", \"caret-left\"]} />\r\n                    </Link>\r\n                    <span>\r\n                        {page}/{this.props.projectPage.total}\r\n                    </span>\r\n                    <Link to={'/project/item/'+_projectId+'/'+pages[(index+pages.length+1)%pages.length]} >\r\n                        <FontAwesomeIcon icon={[\"fas\", \"caret-right\"]} />\r\n                    </Link>\r\n                    \r\n                </p>\r\n                \r\n\t\t\t</div>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nexport default userConsumer(projectPageConsumer(ProjectPageChanger));\r\n\r\nconst changer = userConsumer(projectPageConsumer(ProjectPageChanger));\r\nexport {changer as ProjectPageChanger};\r\n\r\nexport interface BackArrowProps {\r\n    projectPage: IProjectPageContext;\r\n}\r\n\r\nconst ArrowStyle = styled.div`\r\n    > a {\r\n        display: block;\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 0 1em;\r\n        > svg {\r\n            position: relative;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n            margin: 0;                    \r\n            width: 2em !important;\r\n            height: 5em;\r\n            color: #494949;\r\n        }\r\n    }\r\n    &:hover {\r\n        > a > svg {\r\n            color: white;\r\n        }\r\n    }\r\n`;\r\n\r\nclass BackArrow extends React.Component<BackArrowProps> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {_projectId, getProjectPages} = this.props.projectPage;\r\n    \tgetProjectPages(_projectId, {});\r\n    }\r\n\r\n\trender() {\r\n        const { projectPage } = this.props;\r\n        const { _projectId, projectPages } = this.props.projectPage;\r\n        \r\n        const pages = projectPages.map((page) => page);\r\n        pages.push('');\r\n        const index = pages.findIndex((page) => page == ('projectPage' in projectPage? projectPage.projectPage._projectPageId : ''));\r\n\r\n\t\treturn (\r\n\t\t\t<ArrowStyle className='back' >\r\n                <Link to={'/project/item/'+_projectId+'/'+pages[(index+pages.length-1)%pages.length]} >\r\n                    <FontAwesomeIcon icon={[\"fas\", \"caret-left\"]} />\r\n                </Link>\r\n\t\t\t</ArrowStyle>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nconst backarrow = userConsumer(projectPageConsumer(BackArrow));\r\nexport {backarrow as BackArrow};\r\n\r\nexport interface NextArrowProps {\r\n    projectPage: IProjectPageContext;\r\n}\r\n\r\nclass NextArrow extends React.Component<NextArrowProps> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {_projectId, getProjectPages} = this.props.projectPage;\r\n    \tgetProjectPages(_projectId, {});\r\n    }\r\n\r\n\trender() {\r\n        const { projectPage } = this.props;\r\n        const { _projectId, projectPages } = this.props.projectPage;\r\n        \r\n        const pages = projectPages.map((page) => page);\r\n        pages.push('');\r\n        const index = pages.findIndex((page) => page == ('projectPage' in projectPage? projectPage.projectPage._projectPageId : ''));\r\n\r\n\t\treturn (\r\n\t\t\t<ArrowStyle className='next' >\r\n                <Link to={'/project/item/'+_projectId+'/'+pages[(index+pages.length+1)%pages.length]} >\r\n                    <FontAwesomeIcon icon={[\"fas\", \"caret-right\"]} />\r\n                </Link>\r\n\t\t\t</ArrowStyle>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nconst nextarrow = userConsumer(projectPageConsumer(NextArrow));\r\nexport {nextarrow as NextArrow};","'use strict';\n\nimport * as React from 'react';\nimport RichTextEditor from 'react-rte';\nimport { Redirect, Link } from \"react-router-dom\";\nimport * as Datetime from 'react-datetime';\nimport ImageNew from '../../image/image-new';\nimport ImageEdit from '../../image/image-edit';\nimport { IProjectPageContext, updateProjectPageParams, projectPageConsumer } from './project-page-provider';\nimport { IUserContext, userConsumer } from '../../user/user-provider';\nimport { Location } from 'history';\nimport { Popout } from '../../utilities/styled.components';\n\nexport interface ProjectPageEditProps {\n\tprojectPage: IProjectPageContext;\n\tuser: IUserContext;\n\tlocation: Location;\n}\n\nexport interface ProjectPageEditState {\n\tredirect: boolean;\n\trequired: boolean;\n\ttitle: string;\n\tpage: number;\n\timageRequired: boolean;\n\t_imageId: string;\n\tdetails: any;\n\tdiscontinued: boolean;\n}\n\nexport interface ProjectPageEditMethods {\n\teditField: (event: UIEvent) => void;\n\thandleCheckboxChange: (event: UIEvent) => void;\n\thitKey: (event: UIEvent) => void;\n\tupdateProjectPage: (event: UIEvent) => void;\n\tupdateProjectPageResult: (error: boolean) => void;\n\tonRichTextChange: (value) => void;\n\tredirect: () => void;\n\taddNewImageResult: (error: boolean, _imageId: string) => void;\n}\n\nclass ProjectPageEdit extends React.Component<ProjectPageEditProps, ProjectPageEditState> implements ProjectPageEditMethods {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \tredirect: false,\n        \trequired: false,\n        \ttitle: null,\n        \tpage: null,\n        \timageRequired: false,\n        \t_imageId: null,\n        \tdetails: RichTextEditor.createEmptyValue(),\n        \tdiscontinued: false,\n        };\n\n\t\tthis.editField = this.editField.bind(this);\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n\t\tthis.hitKey = this.hitKey.bind(this);\n\t\tthis.updateProjectPage = this.updateProjectPage.bind(this);\n\t\tthis.updateProjectPageResult = this.updateProjectPageResult.bind(this);\n\t\tthis.onRichTextChange = this.onRichTextChange.bind(this);\n\t\tthis.redirect = this.redirect.bind(this);\n\t\tthis.addNewImageResult = this.addNewImageResult.bind(this);\n\t}\n\t\n\teditField(event) {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState((prevState) => {\n\t\t\tprevState[name] = value;\n\t\t\treturn prevState;\n\t\t});\n\t}\n\n\thandleCheckboxChange(event) {\n\t\tconst { name, checked } = event.target;\n\t\tthis.setState((prevState) => {\n\t\t\tprevState[name] = checked;\n\t\t\treturn prevState;\n\t\t});\n\t}\n\n\thitKey(event) {\n\t\tif (event.key == 'Enter') {\n\t\t\tthis.updateProjectPage(event);\n\t\t}\n\t}\n\n\tupdateProjectPage(event) {\n\t\tevent.preventDefault();\n\n\t\tconst { title, page, details, _imageId, discontinued } = this.state;\n\n\t\tconst changes: updateProjectPageParams = {\n\t\t\ttitle: title,\n\t\t\tpage: page,\n\t\t\tdetails: details.toString('html'),\n\t\t\t_imageId: _imageId,\n\t\t\tdiscontinued: discontinued\n\t\t};\n\n\t\tconst params: updateProjectPageParams = {_projectPageId: this.props.projectPage.projectPage._projectPageId};\n\t\tlet vaildKeys = ['title', 'page', 'details', '_imageId', 'discontinued'];\n\n\t\tvaildKeys.forEach((vaildKey) => {\n\t\t\tif (changes[vaildKey] != this.props.projectPage.projectPage[vaildKey]) {\n\t\t\t\tparams[vaildKey] = changes[vaildKey];\n\t\t\t}\n\t\t});\n\n\t\tthis.props.projectPage.updateProjectPage(this.props.projectPage._projectId, params, this.updateProjectPageResult);\n\n\t\tthis.setState(() => {\n\t\t\treturn {required: false};\n\t\t});\n\t}\n\n\tupdateProjectPageResult(error) {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {required: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.redirect();\n\t\t} \n\t}\n\n\tonRichTextChange(value) {\n\t\tthis.setState(() => {\n\t\t\treturn {details: value};\n\t\t});\n\t}\n\n\tredirect() {\n\t\tthis.setState(() => {\n\t\t\treturn {redirect: true};\n\t\t});\n\t}\n\n\taddNewImageResult(error, _imageId) {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {imageRequired: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {\n\t\t\t\t\t_imageId: _imageId,\n\t\t\t\t\timageRequired: false,\n\t\t\t\t};\n\t\t\t});\n\t\t} \n\t}\n\n    componentWillMount() {\n\t\tconst { title, page, details, _imageId, discontinued } = this.props.projectPage.projectPage;\n\n\t\tthis.setState(() => {\n\t\t\treturn {\n\t\t\t\ttitle: title,\n\t\t\t\tpage: page,\n\t\t\t\tdetails: RichTextEditor.createValueFromString(details, 'html'),\n\t\t\t\t_imageId: _imageId,\n\t\t\t\tdiscontinued: discontinued,\n\t\t\t}\n\t\t});\n    }\n\n\tcomponentDidUpdate(prevProps: ProjectPageEditProps, prevState) {\n\t\tlet propsToCheck = ['title', 'year', 'coverImage', 'details', 'discontinued'];\n\t\tlet _state = null;\n\t\tpropsToCheck.forEach((propToCheck) => {\n\t\t\tif (prevProps.projectPage.projectPage[propToCheck] !== this.props.projectPage.projectPage[propToCheck]) {\n\t\t\t\t_state = _state == null ? {} : _state;\n\t\t\t\tif (propToCheck == 'details') {\n\t\t\t\t\t_state[propToCheck] = RichTextEditor.createValueFromString(this.props.projectPage.projectPage[propToCheck], 'html');\n\t\t\t\t} else {\n\t\t\t\t\t_state[propToCheck] = this.props.projectPage.projectPage[propToCheck];\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tif (_state) {\n\t\t\tthis.setState(_state);\n\t\t}\n\t}\n\n    componentDidMount() {\n    \tthis.props.projectPage.getProjectPage(this.props.projectPage._projectId, this.props.projectPage.projectPage._projectPageId);\n    }\n\n\trender() {\n\t\tconst { addNewImageResult, hitKey, handleCheckboxChange, editField, updateProjectPage, onRichTextChange} = this;\n\t\tconst { title, _imageId, imageRequired, redirect, required, page, details, discontinued } = this.state;\n\t\tconst { admin } = this.props.user;\n\t\tconst { pathname } = this.props.location;\n\t\tconst { total, _projectId } = this.props.projectPage;\n\t\tconst { _projectPageId } = this.props.projectPage.projectPage;\n\n\n\t\tif (redirect) {\n\t\t\treturn (<Redirect to={'/project/item/'+this.props.projectPage._projectId+'/'+this.props.projectPage.projectPage._projectPageId} />);\n\t\t}\n\n\t\tif (!admin) {\n\t\t\treturn (<Redirect to={{pathname: '/login', state: {redirectPath: pathname}}}/>)\n\t\t}\n\n\t\treturn (\n\t\t\t<Popout>\n\t\t\t\t<div className=\"project-page-edit-wrapper container\" >\n\t\t\t\t\t<form onSubmit={updateProjectPage}>\n\t\t\t\t\t\t{admin ? <p className=\"text-right\" ><Link to={'/project/item/'+ _projectId + '/' + _projectPageId}>X</Link></p> : ''}\n\n\t\t\t\t\t\t<h3>EDIT PROJECT PAGE</h3>\n\n\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t{_imageId ? <ImageEdit _imageId={_imageId} updateRedirect={false} /> : <ImageNew required={imageRequired} addNewImageResult={addNewImageResult} />}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<label>Title{required ? (<span className=\"errortext\" >*</span>) : ''}</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type='text' onKeyPress={hitKey} onChange={editField} name='title' placeholder=\"Great ProjectPage\" value={title} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<label>Page</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type=\"number\" onKeyPress={hitKey} onChange={editField} name=\"page\" min={1} max={total} value={page}/>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<label>Details</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<RichTextEditor value={details} onChange={onRichTextChange} />\n\t\t\t\t\t\t<label>Discontinued</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type='checkbox' checked={!!discontinued} name=\"discontinued\" onChange={handleCheckboxChange} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type='submit' onClick={updateProjectPage} value='SAVE' />\n\t\t\t\t\t</form>\t\n\t\t\t\t</div>\n\t\t\t</Popout>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectPageConsumer(ProjectPageEdit));","'use strict';\n\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as objectPath from 'object-path';\nimport ImageTag from '../../image/image-tag';\nimport { projectPageConsumer, IProjectPageContext } from './project-page-provider';\n\nexport interface ProjectPageListItemProps {\n\tprojectPage: IProjectPageContext;\n\t_projectPageId: string;\n}\n\nclass ProjectPageListItem extends React.Component<ProjectPageListItemProps> {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n    \tthis.props.projectPage.getProjectPage(this.props.projectPage._projectId, this.props._projectPageId);\n    }\n\n\trender() {\n\t\tconst { _projectId } = this.props.projectPage;\n\t\tconst { _projectPageId, title, _imageId } = this.props.projectPage.projectPage;\n\t\tconst imageIdElem = _imageId ? (<ImageTag _imageId={_imageId} />) : '';\n\t\t\n\t\treturn (\n\t\t\t<div className=\"project-page-list-item-wrapper\" >\t\t\t\t\n\t\t\t\t<Link className=\"project-link\" to={'/project/item/'+_projectId+'/'+_projectPageId} >\n\t\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t\t{imageIdElem}\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\t\t\n\t}\n};\n\nexport default projectPageConsumer(ProjectPageListItem);\nexport {ProjectPageListItem};","'use strict';\n\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport ProjectPageListItem from './project-page-list-item';\nimport { IUserContext, userConsumer } from '../../user/user-provider';\nimport { IProjectPageContext, projectPageConsumer, getProjectPagesQuery } from './project-page-provider';\n\n\nexport interface ProjectPageListProps {\n\tprojectPage: IProjectPageContext;\n\tuser: IUserContext;\n\tlimit: number;\n\tdiscontinued: boolean;\n\tdisplayDetails?: boolean;\n}\n\nclass ProjectPageList extends React.Component<ProjectPageListProps> {\n\tpublic static defaultProps = {\n\t\tdisplayDetails: true,\n\t\tdiscontinued: false,\n\t\tlimit: 10,\n\t};\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n    \tlet query: getProjectPagesQuery = {};\n    \tif (this.props.limit) {\n    \t\tquery.limit = this.props.limit;\n    \t}\n\t\tthis.props.projectPage.getProjectPages(this.props.projectPage._projectId, query)\n\t}\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n    \tlet update = false;\n    \tlet prevDiscontinued = prevProps.discontinued;\n    \tlet currentDiscontinued = this.props.discontinued;\n\n    \tif (prevDiscontinued != currentDiscontinued) {\n\t    \tupdate = true;\n\t\t}\n\n    \tif (update) {\n    \t\tlet query = {\n    \t\t\tdiscontinued: this.props.discontinued,\n    \t\t\tlimit: this.props.limit,\n    \t\t}\n    \t\tthis.props.projectPage.getProjectPages(this.props.projectPage._projectId, query);\n    \t}\n\n    }\n\n\trender() {\n\t\tconst { displayDetails } = this.props;\n\t\tconst { projectPages } = this.props.projectPage;\n\n\t\tlet ProjectPageList = [];\n\t\tif (projectPages) {\n            projectPages.forEach((_projectPageId) => {\n\t\t\t\tProjectPageList.push(<ProjectPageListItem key={_projectPageId} _projectPageId={_projectPageId} displayDetails={displayDetails} />)\n\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"project-page-list-wrapper\" >\n\t\t\t\t<ul className='project-list' >\n\t\t\t\t\t{ProjectPageList}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectPageConsumer(ProjectPageList));\nexport { ProjectPageList };","'use strict';\n\nimport * as React from 'react';\nimport RichTextEditor from 'react-rte';\nimport { Redirect, Link } from 'react-router-dom';\nimport ImageNew from '../../image/image-new';\nimport ImageEdit from '../../image/image-edit';\nimport { IUserContext, userConsumer } from '../../user/user-provider';\nimport { Location } from 'history';\nimport { projectPageConsumer, IProjectPageContext, addProjectPageParams } from './project-page-provider';\nimport { Popout } from '../../utilities/styled.components';\n\nexport interface ProjectPageNewProps {\n\tuser: IUserContext;\n\tprojectPage: IProjectPageContext;\n\tlocation: Location;\n}\n\nexport interface ProjectPageNewState {\n\t_projectPageId: string;\n\trequired: boolean;\n\timageRequired: boolean;\n\ttitle: string;\n\tdetails: any;\n\tpage: number;\n\t_imageId?: string;\n}\n\nexport interface ProjectPageNewMethods {\n\thitKey: (event: UIEvent) => void;\n\taddNewProject: (event: UIEvent) => void;\n\taddNewProjectResult: (error: boolean, _projectId: string) => void;\n\tonRichTextChange: (value: string) => void;\n\taddNewImageResult: (error: boolean, _imageId: string) => void;\n}\n\n\nclass ProjectPageNew extends React.Component<ProjectPageNewProps, ProjectPageNewState> implements ProjectPageNewMethods {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \t_projectPageId: null,\n        \trequired: false,\n        \timageRequired: false,\n\t\t\ttitle: null,\n\t\t\tpage: null,\n        \tdetails: RichTextEditor.createEmptyValue(),\n\t\t};\n\t\t\n\n\t\tthis.hitKey = this.hitKey.bind(this);\n\t\tthis.addNewProject = this.addNewProject.bind(this);\n\t\tthis.addNewProjectResult = this.addNewProjectResult.bind(this);\n\t\tthis.onRichTextChange = this.onRichTextChange.bind(this);\n\t\tthis.addNewImageResult = this.addNewImageResult.bind(this);\n\t}\n\n\thitKey(event) {\n\t\tif (event.key == 'Enter') {\n\t\t\tthis.addNewProject(event);\n\t\t}\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.props.projectPage.getProjectPages(this.props.projectPage._projectId, {});\n\t}\n\n\ttitleRef: React.RefObject<HTMLInputElement> = React.createRef();\n\tpageRef: React.RefObject<HTMLInputElement> = React.createRef();\n\n\taddNewProject(event) {\n\t\tevent.preventDefault();\n\t\tconst title = this.titleRef.current.value;\n\t\tconst page: number = Number(this.pageRef.current.value);\n\t\tconst { details, _imageId } = this.state;\n\n\t\tconst newProject: addProjectPageParams = {\n\t\t\ttitle: title,\n\t\t\tpage: page,\n\t\t\tdetails: details.toString('html'),\n\t\t}\n\n\t\tif (_imageId != null) {\n\t\t\tnewProject._imageId = _imageId;\n\t\t}\n\t\tthis.props.projectPage.addProjectPage(this.props.projectPage._projectId, newProject, this.addNewProjectResult);\n\n\t\tthis.setState(() => {\n\t\t\treturn {required: false};\n\t\t});\n\t}\n\n\taddNewProjectResult = (error, _projectPageId) => {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {required: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {_projectPageId: _projectPageId};\n\t\t\t});\n\t\t} \n\t}\n\n\tonRichTextChange = (value) => {\n\t\tthis.setState(() => {\n\t\t\treturn {details: value};\n\t\t});\n\t}\n\n\taddNewImageResult = (error, _imageId) => {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {imageRequired: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {\n\t\t\t\t\t_imageId: _imageId,\n\t\t\t\t\timageRequired: false,\n\t\t\t\t};\n\t\t\t});\n\t\t} \n\t}\n\t\n\trender() {\n\t\tconst { addNewImageResult, addNewProject, hitKey, onRichTextChange, titleRef, pageRef } = this;\n\t\tconst { _imageId, imageRequired, _projectPageId, required, details, page } = this.state;\n\t\tconst { _projectId } = this.props.projectPage;\n\t\tconst { admin } = this.props.user;\n\t\tconst { pathname } = this.props.location;\n\t\tconst { total } = this.props.projectPage;\n\n\t\t\n\n\t\tif (_projectPageId) {\n\t\t\treturn (<Redirect to={'/project/item/'+this.state._projectPageId} />);\n\t\t}\n\t\tif (!admin) {\n\t\t\treturn (<Redirect to={{pathname: '/login', state: {redirectPath: pathname}}}/>)\n\t\t}\n\t\n\t\treturn (\n\t\t\t<Popout>\n\t\t\t\t<div className=\"project-page-new-wrapper container\" >\n\t\t\t\t\t<form onSubmit={addNewProject}>\n\t\t\t\t\t\t{admin ? <p className=\"text-right\" ><Link to={'/project/item/'+ _projectId}>X</Link></p> : ''}\n\n\t\t\t\t\t\t<h3>New Project Page</h3>\n\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t{_imageId ? <ImageEdit _imageId={_imageId} updateRedirect={false} /> : <ImageNew required={imageRequired} addNewImageResult={addNewImageResult} />}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<label>Title{required ? (<span className=\"errortext\" >*</span>) : ''}</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type='text' onKeyPress={hitKey} placeholder=\"Great Project\" ref={titleRef} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<label>Page</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type=\"number\" min={1} max={total+1} onKeyPress={hitKey} ref={pageRef} defaultValue={(total+1).toString()} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<label>Details</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<RichTextEditor value={details} onChange={onRichTextChange} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<input type='submit' onClick={addNewProject} value='SAVE' />\n\t\t\t\t\t</form>\t\n\t\t\t\t</div>\n\t\t\t</Popout>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectPageConsumer(ProjectPageNew));","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport { stringify } from 'querystring';\r\nimport { match, withRouter } from 'react-router';\r\n\r\nexport interface IProjectPageContext extends ProjectPageWrapperMethods, ProjectPageWrapperState{\r\n    _projectId?: string;\r\n}\r\n\r\nconst Context: IProjectPageContext = {\r\n    getProjectPages: (params) => {\r\n        console.error('Error: Cannot getProjectPages no ProjectPageContext.Provider element in parents');\r\n    },\r\n    getProjectPage: (params) => {\r\n        console.error('Error: Cannot getProjectPage no ProjectPageContext.Provider element in parents');\r\n    },\r\n    addProjectPage: (params) => {\r\n        console.error('Error: Cannot addProjectPage no ProjectPageContext.Provider element in parents');\r\n    },\r\n    updateProjectPage: (params, callback) => {\r\n        console.error('Error: Cannot updateProjectPage no ProjectPageContext.Provider element in parents');\r\n    },\r\n    projectPages: [],\r\n    projectPageList: {},\r\n    page: 0,\r\n    totalPages: 0,\r\n    limit: 0,\r\n    total: 0,\r\n    pageTotal: 0,\r\n};\r\n\r\nexport const ProjectPageContext = React.createContext(Context);\r\n\r\nexport interface getProjectPagesQuery {\r\n    discontinued?: boolean;\r\n    limit?: number;\r\n}\r\n\r\nexport interface addProjectPageParams {\r\n    title: string;\r\n    details: string;\r\n    page: number;\r\n    _imageId?: string;\r\n}\r\n\r\nexport interface updateProjectPageParams {\r\n    _projectPageId?: string;\r\n    title?: string;\r\n    page?: number;\r\n    details?: string;\r\n    _imageId?: string;\r\n    discontinued?: boolean;\r\n}\r\n\r\nexport interface ProjectPage {\r\n    _projectPageId: string;\r\n    title: string;\r\n    page: number;\r\n    details: string;\r\n        _imageId: string;\r\n    discontinued: boolean;\r\n}\r\n\r\nexport interface ProjectPageWrapperProps {\r\n    initialState?: ProjectPageWrapperState;\r\n}\r\n\r\nexport interface ProjectPageWrapperState {\r\n    projectPages: string[];\r\n    projectPageList: {\r\n        [key: string]: ProjectPage;\r\n    };\r\n    page: number;\r\n    totalPages: number;\r\n    limit: number;\r\n    total: number;\r\n    pageTotal: number;\r\n    projectPage?: ProjectPage;\r\n}\r\n\r\nexport interface ProjectPageWrapperMethods {\r\n    getProjectPages: (_projectId: string, query: getProjectPagesQuery) => void,\r\n    getProjectPage: (_projectId: string, _projectPageId: string) => void,\r\n    addProjectPage: (_projectId: string, params: addProjectPageParams, callback: (error: boolean, _projectPageId: string) => void) => void,\r\n    updateProjectPage: (_projectId: string, params: updateProjectPageParams, callback: (error: boolean) => void) => void;\r\n}\r\n\r\nexport class ProjectPageWrapper extends React.Component<ProjectPageWrapperProps, ProjectPageWrapperState> implements ProjectPageWrapperMethods {\r\n    public static defaultProps: ProjectPageWrapperProps = {\r\n        initialState: {\r\n            projectPages: [],\r\n            projectPageList: {},\r\n            page: 0,\r\n            totalPages: 0,\r\n            limit: 0,\r\n            total: 0,\r\n            pageTotal: 0,\r\n        },\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = this.props.initialState;\r\n        this.getProjectPages = this.getProjectPages.bind(this);\r\n        this.getProjectPage = this.getProjectPage.bind(this);\r\n        this.addProjectPage = this.addProjectPage.bind(this);\r\n    }\r\n\r\n    getProjectPages(_projectId, query) {\r\n        let querydefaults: getProjectPagesQuery = {\r\n            limit: 100,\r\n        };\r\n        if (query) {\r\n            if (!query.discontinued) {\r\n                querydefaults.discontinued = false;\r\n            }\r\n            if (query.limit) {\r\n                querydefaults.limit = query.limit;\r\n            }\r\n        } else {\r\n            querydefaults.discontinued = false;\r\n        }\r\n\r\n        let _query = stringify(querydefaults);\r\n        _query = _query ? '?'+_query : '';\r\n\r\n        const request = new Request('/api/project/' + _projectId + '/page' + _query, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n        });\r\n\r\n        fetch(request)\r\n        .then(function(response) {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = JSON.stringify(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((body) => {\r\n            this.setState(() => {\r\n                return {\r\n                    page: body.page,\r\n                    totalPages: body.totalPages,\r\n                    limit: body.pageLimit,\r\n                    total: body.total,\r\n                    pageTotal: body.totalBatch,\r\n                    projectPages: body.pages,\r\n                };\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            this.setState(() => {\r\n                return {\r\n                    projectPages: null,\r\n                    page: null,\r\n                    totalPages: null,\r\n                    limit: null,\r\n                    total: null,\r\n                    pageTotal: null,\r\n                };\r\n            });\r\n        });\r\n    }\r\n\r\n    getProjectPage(_projectId, _projectPageId) {\r\n        let query = stringify({\r\n            field: [\r\n                '_id',\r\n                'tiltle',\r\n                'page',\r\n                '_imageId',\r\n                'discontinued',\r\n            ],\r\n            format: 'json',\r\n        });\r\n        query = query ? '?'+query : '';\r\n\r\n        const request = new Request('/api/project/' + _projectId + '/page/' + _projectPageId + query, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            }   \r\n        });\r\n\r\n        fetch(request)\r\n        .then((response) => {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = JSON.stringify(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((body) => {\r\n            const { _id, title, details, _imageId, discontinued, page } = body;\r\n\r\n            this.setState((preState) => {\r\n                preState.projectPageList[_id] = {\r\n                    _projectPageId: _id,\r\n                    title: title,\r\n                    page: page,\r\n                    details: details,\r\n                    _imageId: _imageId,\r\n                    discontinued: discontinued,\r\n                };\r\n                return preState;\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n\r\n    }\r\n\r\n    addProjectPage(_projectId, params, callback) {           \r\n        const payload: addProjectPageParams = {\r\n            title: params.title,\r\n            page: params.page,\r\n            details: params.details,\r\n        }\r\n\r\n        if ('_imageId' in params) {\r\n            payload._imageId = params._imageId;\r\n        }\r\n\r\n        const request = new Request('/api/project/' + _projectId + '/page/', {\r\n            method: 'POST',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: JSON.stringify(payload), \r\n        });\r\n        fetch(request)\r\n        .then(function(response) {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = JSON.stringify(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then(function(response) {\r\n            return response.json();\r\n        })\r\n        .then(function(response) {\r\n            callback(false, response._id);\r\n        })\r\n        .catch(function(error) {\r\n            callback(true);\r\n        });\r\n    }\r\n\r\n    updateProjectPage(_projectId, params: updateProjectPageParams, callback) {\r\n        let payload: updateProjectPageParams = {};\r\n\r\n        if ('title' in params) {\r\n            payload.title = params.title;\r\n        }\r\n        if ('page' in params) {\r\n            payload.page = params.page;\r\n        }\r\n        if ('details' in params) {\r\n            payload.details = params.details;\r\n        }\r\n        if ('_imageId' in params) {\r\n            payload._imageId = params._imageId;\r\n        }\r\n        if ('discontinued' in params) {\r\n            payload.discontinued = params.discontinued;\r\n        }\r\n\r\n        const request = new Request('/api/project/' + _projectId + '/page/' + params._projectPageId, {\r\n            method: 'PUT',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: JSON.stringify(payload), \r\n        });\r\n        fetch(request)\r\n        .then((response) => {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText)\r\n                error.message = JSON.stringify(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            callback(false);\r\n        })\r\n        .catch((error) => {\r\n            callback(true);\r\n        });\r\n    }\r\n\r\n    render() {\r\n    const { getProjectPages, getProjectPage, addProjectPage, updateProjectPage } = this;\r\n    const { projectPages, projectPageList, page, totalPages, limit, total, pageTotal } = this.state;\r\n        const context: IProjectPageContext = {\r\n            getProjectPages: getProjectPages,\r\n            getProjectPage: getProjectPage,\r\n            addProjectPage: addProjectPage,\r\n            updateProjectPage: updateProjectPage,\r\n            projectPages: projectPages,\r\n            projectPageList: projectPageList,\r\n            page: page,\r\n            totalPages: totalPages,\r\n            limit: limit,\r\n            total: total,\r\n            pageTotal: pageTotal,\r\n        }\r\n        return (\r\n            <ProjectPageContext.Provider value={context} >\r\n                {this.props.children}\r\n            </ProjectPageContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ProjectPageWrapper;\r\n\r\nexport interface projectPageProviderOptions {\r\n    props?: ProjectPageWrapperProps;\r\n}\r\n\r\nexport const projectPageProvider = (Component, options?: projectPageProviderOptions) => {\r\n    class ProjectPageProvider extends React.Component<ProjectPageProvider> {\r\n        render () {\r\n            let projectPageWrapperProps: ProjectPageWrapperProps = {};\r\n            if (options) {\r\n                if ('props' in options) {\r\n                    projectPageWrapperProps = options.props;\r\n                }\r\n            }\r\n            return (\r\n                <ProjectPageWrapper {...projectPageWrapperProps}>\r\n                    <Component {...this.props} />  \r\n                </ProjectPageWrapper>\r\n            );\r\n        }\r\n    }\r\n  \r\n    return ProjectPageProvider;\r\n}\r\n\r\nexport interface ProjectPageConsumerProps {\r\n    _projectId?: string;\r\n    _projectPageId?: string;\r\n    match: match<{\r\n        _projectId: string;\r\n        _projectPageId?: string;\r\n    }>;\r\n}\r\n\r\nexport const projectPageConsumer = (Component) => {\r\n\r\n\r\n    class ProjectPageConsumer extends React.Component<ProjectPageConsumerProps> {\r\n        render () {\r\n            let _projectPageId, _projectId;\r\n            if ('match' in this.props) {\r\n                if ('_projectPageId' in this.props.match.params) {\r\n                    _projectPageId = this.props.match.params._projectPageId;\r\n                }\r\n                if ('_projectId' in this.props.match.params) {\r\n                    _projectId = this.props.match.params._projectId;\r\n                }\r\n            }\r\n            if ('_projectId' in this.props) {\r\n                _projectId = this.props._projectId;\r\n            }\r\n            if ('_projectPageId' in this.props) {\r\n                _projectPageId = this.props._projectPageId;\r\n            }\r\n            return (\r\n                <ProjectPageContext.Consumer>\r\n                    {(context) => {\r\n                        if (_projectPageId) {\r\n                            context.projectPage = {\r\n                                _projectPageId: _projectPageId,\r\n                                title: '',\r\n                                page: 0,\r\n                                details: '',\r\n                                _imageId: null,\r\n                                discontinued: false,\r\n                            };\r\n\r\n                            if (_projectPageId in context.projectPageList) {\r\n                                const projectPage = context.projectPageList[_projectPageId];\r\n\r\n                                context.projectPage = {\r\n                                    _projectPageId: _projectPageId,\r\n                                    title:               'title' in projectPage ? projectPage.title : '',\r\n                                    page:                 'page' in projectPage ? projectPage.page : 0,\r\n                                    details:           'details' in projectPage ? projectPage.details : '',\r\n                                    _imageId:         '_imageId' in projectPage ? projectPage._imageId : null,\r\n                                    discontinued: 'discontinued' in projectPage ? projectPage.discontinued : false,\r\n                                };\r\n                            }\r\n                        }\r\n                        if (_projectId) {\r\n                            context._projectId = _projectId;\r\n                        }\r\n\r\n                        return (\r\n                            <Component {...this.props} {...{projectPage: context}} />\r\n                        )\r\n                    }}\r\n                </ProjectPageContext.Consumer>\r\n            );\r\n        }\r\n    }\r\n    //@ts-ignore\r\n    return withRouter(ProjectPageConsumer);\r\n}","'use strict';\n\nimport * as React from 'react';\nimport RichTextEditor from 'react-rte';\nimport { Link } from \"react-router-dom\";\nimport ImageTag from '../../image/image-tag';\nimport { IUserContext, userConsumer } from '../../user/user-provider';\nimport { projectPageConsumer, IProjectPageContext } from './project-page-provider';\nimport { ProjectPageChanger, BackArrow, NextArrow } from './project-page-changer';\nimport { Popout } from '../../utilities/styled.components';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: auto auto auto min-content;\n\n\t> .back {\n\t\tgrid-row: 1;\n\t}\n\n\t> .edit {\n\t\tgrid-column: 2;\n\t\talign-self: center;\n\t\ttext-align: center;\n\t}\n\n\t> .next {\n\t\tgrid-column: 3;  \n\t\tgrid-row: 1;\n\t}\n\n\t> .exit {\n\t\tcolor: white;\n\t\tbackground-color: #e98383;\n\t\twidth: 2em;\n\t\theight: 2em;\n\t\tline-height: 2;\n\t\tpadding: 0;\n\t\ttext-align: center;\n\t\tgrid-column: 4;  \n\t}\n\n\t> .content {\n\t\tgrid-column-start: 1;\n\t\tgrid-column-end: -1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tflex-wrap: wrap;\n\t\t\n\t\t> * {\n\t\t\tpadding: 1em;\n\t\t}\n\t\t> img {\n\t\t\tmax-width: 100%;\n\t\t\talign-self: center;\n\t\t}\n\t}\n\n\t@media (min-width: 575px) {\n\t\tgrid-template-columns: auto 1fr auto;\n\t\t> .back {\n\t\t\tgrid-row: unset;\n\t\t}\n\t\t\n\t\t> .edit {\n\t\t\ttext-align: left; \n\t\t}\n\n\t\t> .next {\n\t\t\tgrid-row: unset;\n\t\t}\n\n\t\t> .exit {\n\t\t\tgrid-column: 3;  \n\t\t}\n\n\t\t> .content {\n\t\t\tgrid-column: unset;\n\t\t}\n\t}\n\n`;\n\nexport interface ProjectPageProps {\n    projectPage: IProjectPageContext;\n\tuser: IUserContext;\n}\n\nclass ProjectPage extends React.Component<ProjectPageProps> {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        const {_projectId} = this.props.projectPage;\n        const {_projectPageId} = this.props.projectPage.projectPage;\n    \tthis.props.projectPage.getProjectPage(_projectId, _projectPageId);\n\t}\n\n\n\tcomponentDidUpdate(prevProps: ProjectPageProps, prevState) {\n\t\tconst {_projectId} = this.props.projectPage;\n        const {_projectPageId} = this.props.projectPage.projectPage;\n\t\tif (prevProps.projectPage.projectPage._projectPageId != _projectPageId) {\n\t\t\tthis.props.projectPage.getProjectPage(_projectId, _projectPageId);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { _projectId } = this.props.projectPage;\n\t\tconst {  _projectPageId, title, page, _imageId, details } = this.props.projectPage.projectPage;\n\t\tconst { admin } = this.props.user;\n\n\t\tconst coverImageElem = _imageId ? (<ImageTag _imageId={_imageId} />) : '';\n\n\t\treturn (\n\t\t\t<Popout>\n\t\t\t\t<Wrapper>\n\t\t\t\t\t{admin ? <Link className=\"edit\" to={'/project/edit/'+ _projectId + '/' + _projectPageId}>EDIT</Link> : ''}\n\t\t\t\t\t<Link className=\"exit\" to={'/project/item/'+ _projectId}>X</Link>\n\t\t\t\t\t<BackArrow _projectId={_projectId} />\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t{coverImageElem}\n\t\t\t\t\t\t{title || details != '<p><br></p>' ? <div>\n\t\t\t\t\t\t\t{title ? <h2 className=\"title\">{title}</h2> : ''}\n\t\t\t\t\t\t\t{details != '<p><br></p>' ? <RichTextEditor value={RichTextEditor.createValueFromString(details, 'html')} readOnly={true} /> : ''}\n\t\t\t\t\t\t</div> : ''}\n\t\t\t\t\t</div>\n\t\t\t\t\t<NextArrow _projectId={_projectId} />\n\t\t\t\t</Wrapper>\n\t\t\t</Popout>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectPageConsumer(ProjectPage));","'use strict';\n\nimport * as React from 'react';\nimport RichTextEditor from 'react-rte';\nimport {Redirect} from \"react-router-dom\";\nimport * as Datetime from 'react-datetime';\nimport ImageNew from '../image/image-new';\nimport ImageEdit from '../image/image-edit';\nimport { IProjectContext, updateProjectParams, projectConsumer } from './project-provider';\nimport { IUserContext, userConsumer } from '../user/user-provider';\nimport { Location } from 'history';\n\nexport interface ProjectEditProps {\n\tproject: IProjectContext;\n\tuser: IUserContext;\n\tlocation: Location;\n}\n\nexport interface ProjectEditState {\n\tredirect: boolean;\n\trequired: boolean;\n\ttitle: string;\n\tyear: Date;\n\timageRequired: boolean;\n\tcoverImage: {\n\t\t_imageId: string;\n\t}; \n\tdetails: any;\n\tdiscontinued: boolean;\n}\n\nexport interface ProjectEditMethods {\n\teditField: (event: UIEvent) => void;\n\thandleCheckboxChange: (event: UIEvent) => void;\n\tyearChanged: (momentDateTime: Date) => void;\n\thitKey: (event: UIEvent) => void;\n\tupdateProject: (event: UIEvent) => void;\n\tupdateProjectResult: (error: boolean) => void;\n\tonRichTextChange: (value) => void;\n\tredirect: () => void;\n\taddNewImageResult: (error: boolean, _imageId: string) => void;\n}\n\nclass ProjectEdit extends React.Component<ProjectEditProps, ProjectEditState> implements ProjectEditMethods {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \tredirect: false,\n        \trequired: false,\n        \ttitle: null,\n        \tyear: null,\n        \timageRequired: false,\n        \tcoverImage: {\n        \t\t_imageId: null,\n        \t}, \n        \tdetails: RichTextEditor.createEmptyValue(),\n        \tdiscontinued: false,\n        };\n\n\t\tthis.editField = this.editField.bind(this);\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n\t\tthis.yearChanged = this.yearChanged.bind(this);\n\t\tthis.hitKey = this.hitKey.bind(this);\n\t\tthis.updateProject = this.updateProject.bind(this);\n\t\tthis.updateProjectResult = this.updateProjectResult.bind(this);\n\t\tthis.onRichTextChange = this.onRichTextChange.bind(this);\n\t\tthis.redirect = this.redirect.bind(this);\n\t\tthis.addNewImageResult = this.addNewImageResult.bind(this);\n\t}\n\t\n\teditField(event) {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState((prevState) => {\n\t\t\tprevState[name] = value;\n\t\t\treturn prevState;\n\t\t});\n\t}\n\n\thandleCheckboxChange(event) {\n\t\tconst { name, checked } = event.target;\n\t\tthis.setState((prevState) => {\n\t\t\tprevState[name] = checked;\n\t\t\treturn prevState;\n\t\t});\n\t}\n\n\tyearChanged(momentDateTime) {\n\t\tthis.setState((prevState) => {\n\t\t\treturn {year: momentDateTime};\n\t\t});\n\t}\n\n\thitKey(event) {\n\t\tif (event.key == 'Enter') {\n\t\t\tthis.updateProject(event);\n\t\t}\n\t}\n\n\tupdateProject(event) {\n\t\tevent.preventDefault();\n\n\t\tconst { title, year, details, coverImage, discontinued } = this.state;\n\n\t\tif (!title || !year) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {required: true};\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst changes: updateProjectParams = {\n\t\t\ttitle: title,\n\t\t\tyear: year,\n\t\t\tdetails: details.toString('html'),\n\t\t\tcoverImage: coverImage,\n\t\t\tdiscontinued: discontinued\n\t\t};\n\n\t\tconst params: updateProjectParams = {_id: this.props.project.project._projectId};\n\t\tlet vaildKeys = ['title', 'year', 'details', 'coverImage', 'discontinued'];\n\n\t\tvaildKeys.forEach((vaildKey) => {\n\t\t\tif (changes[vaildKey] != this.props[vaildKey]) {\n\t\t\t\tif (vaildKey == 'coverImage') {\n\t\t\t\t\tif (changes.coverImage._imageId !== this.props.project.project.coverImage._imageId) {\n\t\t\t\t\t\tparams.coverImage = params.coverImage || {_imageId: null};\n\t\t\t\t\t\tparams.coverImage._imageId = changes.coverImage._imageId;\n\t\t\t\t\t} \n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tparams[vaildKey] = changes[vaildKey];\n\t\t\t}\n\t\t});\n\n\t\tthis.props.project.updateProject(params, this.updateProjectResult);\n\n\t\tthis.setState(() => {\n\t\t\treturn {required: false};\n\t\t});\n\t}\n\n\tupdateProjectResult(error) {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {required: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.redirect();\n\t\t} \n\t}\n\n\tonRichTextChange(value) {\n\t\tthis.setState(() => {\n\t\t\treturn {details: value};\n\t\t});\n\t}\n\n\tredirect() {\n\t\tthis.setState(() => {\n\t\t\treturn {redirect: true};\n\t\t});\n\t}\n\n\taddNewImageResult(error, _imageId) {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {imageRequired: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {\n\t\t\t\t\tcoverImage: {\n\t\t\t\t\t\t_imageId: _imageId,\n\t\t\t\t\t},\n\t\t\t\t\timageRequired: false,\n\t\t\t\t};\n\t\t\t});\n\t\t} \n\t}\n\n    componentWillMount() {\n\t\tconst { title, year, details, coverImage, discontinued } = this.props.project.project;\n\t\tconst { _imageId } = coverImage;\n\n\t\tthis.setState(() => {\n\t\t\treturn {\n\t\t\t\ttitle: title,\n\t\t\t\tyear: year,\n\t\t\t\tdetails: RichTextEditor.createValueFromString(details, 'html'),\n\t\t\t\tcoverImage: {\n\t\t\t\t\t_imageId: _imageId,\n\t\t\t\t},\n\t\t\t\tdiscontinued: discontinued,\n\t\t\t}\n\t\t});\n    }\n\n\tcomponentDidUpdate(prevProps: ProjectEditProps, prevState) {\n\t\tlet propsToCheck = ['title', 'year', 'coverImage', 'details', 'discontinued'];\n\t\tlet _state = null;\n\t\tpropsToCheck.forEach((propToCheck) => {\n\t\t\tif (prevProps.project.project[propToCheck] !== this.props.project.project[propToCheck]) {\n\t\t\t\t_state = _state == null ? {} : _state;\n\t\t\t\tif (propToCheck == 'coverImage') {\n\t\t\t\t\tif (prevProps.project.project.coverImage._imageId !== this.props.project.project.coverImage._imageId) {\n\t\t\t\t\t\t_state.coverImage = _state.coverImage || {};\n\t\t\t\t\t\t_state.coverImage._imageId = this.props.project.project.coverImage._imageId;\n\t\t\t\t\t}\n\t\t\t\t} else if (propToCheck == 'details') {\n\t\t\t\t\t_state[propToCheck] = RichTextEditor.createValueFromString(this.props.project.project[propToCheck], 'html');\n\t\t\t\t} else {\n\t\t\t\t\t_state[propToCheck] = this.props.project.project[propToCheck];\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tif (_state) {\n\t\t\tthis.setState(_state);\n\t\t}\n\t}\n\n    componentDidMount() {\n    \tthis.props.project.getProject(this.props.project.project._projectId);\n    }\n\n\trender() {\n\t\tconst { addNewImageResult, hitKey, handleCheckboxChange, editField, updateProject, yearChanged, onRichTextChange} = this;\n\t\tconst { title, coverImage, imageRequired, redirect, required, year, details, discontinued } = this.state;\n\t\tconst { _imageId } = coverImage;\n\t\tconst { admin } = this.props.user;\n\t\tconst { pathname } = this.props.location;\n\n\n\t\tif (redirect) {\n\t\t\treturn (<Redirect to={'/project/item/'+this.props.project.project._projectId} />);\n\t\t}\n\n\t\tif (!admin) {\n\t\t\treturn (<Redirect to={{pathname: '/login', state: {redirectPath: pathname}}}/>)\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"project-edit-wrapper\" >\n\t\t\t\t<form onSubmit={updateProject}>\n\t\t\t\t\t<h3>EDIT PROJECT</h3>\n\n\t\t\t\t\t<label>Cover Image</label>\n\t\t\t\t\t{_imageId ? <ImageEdit _imageId={_imageId} updateRedirect={false} /> : <ImageNew required={imageRequired} addNewImageResult={addNewImageResult} />}\n\t\t\t\t\t\n\t\t\t\t\t<label>Title{required ? (<span className=\"errortext\" >*</span>) : ''}</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type='text' onKeyPress={hitKey} placeholder=\"Great Project\" onChange={editField} name='title' value={title} />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label>Year{required ? (<span className=\"errortext\" >*</span>) : ''}</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<Datetime dateFormat=\"YYYY\" timeFormat={false} value={year} onChange={yearChanged} />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label>Details</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<RichTextEditor value={details} onChange={onRichTextChange} />\n\t\t\t\t\t<label>Discontinued</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type='checkbox' checked={!!discontinued} name=\"discontinued\" onChange={handleCheckboxChange} />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type='submit' onClick={updateProject} value='SAVE' />\n\t\t\t\t</form>\t\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectConsumer(ProjectEdit));","'use strict';\n\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as moment from 'moment';\nimport * as objectPath from 'object-path';\nimport ImageTag from '../image/image-tag';\nimport { projectConsumer, IProjectContext } from './project-provider';\n\nexport interface ProjectListItemProps {\n\tproject: IProjectContext;\n\t_projectId: string;\n}\n\nclass ProjectListItem extends React.Component<ProjectListItemProps> {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n    \tthis.props.project.getProject(this.props._projectId);\n    }\n\n\trender() {\n\n\t\tconst { _projectId, title, coverImage } = this.props.project.project;\n\n\t\tlet year = moment(this.props.project.project.year).format(\"YYYY\");\n\t\tconst coverImageElem = objectPath.get(coverImage, '_imageId', false) ? (<ImageTag _imageId={this.props.project.project.coverImage._imageId} />) : '';\n\n\t\treturn (\n\t\t\t<div className=\"project-list-item-wrapper\" >\t\t\t\t\n\t\t\t\t<Link className=\"project-link\" to={'/project/item/'+_projectId} >\n\t\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t\t{coverImageElem}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"title-year-wrapper\">\n\t\t\t\t\t\t<p className=\"title\">{title}</p>\n\t\t\t\t\t\t<p className=\"year\">{year}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\t\t\n\t}\n};\n\nexport default projectConsumer(ProjectListItem);","'use strict';\n\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport ProjectListItem from './project-list-item';\nimport { IProjectContext, projectConsumer, getProjectsQuery } from './project-provider';\nimport { IUserContext, userConsumer } from '../user/user-provider';\n\n\nexport interface ProjectListProps {\n\tproject: IProjectContext;\n\tuser: IUserContext;\n\tlimit: number;\n\tdiscontinued: boolean;\n\tdisplayDetails?: boolean;\n}\n\nclass ProjectList extends React.Component<ProjectListProps> {\n\tpublic static defaultProps = {\n\t\tdisplayDetails: true,\n\t};\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n    \tlet query: getProjectsQuery = {};\n    \tif (this.props.limit) {\n    \t\tquery.limit = this.props.limit;\n    \t}\n    \tthis.props.project.getProjects(query);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n    \tlet update = false;\n    \tlet prevDiscontinued = prevProps.discontinued || false;\n    \tlet currentDiscontinued = this.props.discontinued || false;\n    \tif (prevDiscontinued != currentDiscontinued) {\n\t    \tupdate = true;\n    \t}\n\n    \tif (update) {\n    \t\tlet query = {\n    \t\t\tdiscontinued: this.props.discontinued || false,\n    \t\t\tlimit: this.props.limit || 10,\n    \t\t}\n    \t\tthis.props.project.getProjects(query);\n    \t}\n\n    }\n\n\trender() {\n\t\tconst { displayDetails } = this.props;\n\t\tlet ProjectList = [];\n\t\tif (this.props.project.projects) {\n            this.props.project.projects.forEach((projectKey) => {\n\t\t\t\tProjectList.push(<ProjectListItem key={projectKey} _projectId={projectKey} displayDetails={displayDetails} />)\n\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"project-wrapper\" >\n\t\t\t\t{this.props.user.admin ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Link to=\"/project/new\">NEW PROJECT</Link>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t</div>\n\t\t\t\t) : ''}\n\t\t\t\t<ul className='project-list' >\n\t\t\t\t\t{ProjectList}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectConsumer(ProjectList));","'use strict';\n\nimport * as React from 'react';\nimport ProjectList from './project-list';\nimport { userConsumer, IUserContext } from '../user/user-provider';\nimport { IProjectContext, projectConsumer } from './project-provider';\n\nexport interface ProjectMainProps {\n    user: IUserContext;\n    project: IProjectContext;\n}\n\nexport interface ProjectMainState {\n    discontinued: boolean;\n}\n\nexport interface ProjectMainMethods {\n    handleCheckboxChange: (event: UIEvent) => void;\n}\n\nclass ProjectMain extends React.Component<ProjectMainProps, ProjectMainState> implements ProjectMainMethods {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \tdiscontinued: false,\n        };\n\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n    }\n\n    handleCheckboxChange(event) {\n        const { name, checked } = event.target;\n        this.setState((prevState) => {\n            prevState[name] = checked; \n            return prevState;\n        });\n    }\n\n\trender() {\n        let adminOptions = this.props.user.admin ? (\n            <div>\n                <h5>Admin Options</h5>\n                <label>Discontinued</label><input type='checkbox' checked={!!this.state.discontinued} name=\"discontinued\" onChange={this.handleCheckboxChange} />\n            </div>\n        ) : '';\n\n        return (\n\t\t\t<div className=\"project-wrapper\" >\n                {adminOptions}\n\t\t\t\t<ProjectList discontinued={this.state.discontinued} />\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectConsumer(ProjectMain));","'use strict';\n\nimport * as React from 'react';\nimport RichTextEditor from 'react-rte';\nimport {Redirect} from 'react-router-dom';\nimport * as Datetime from 'react-datetime';\nimport ImageNew from '../image/image-new';\nimport ImageEdit from '../image/image-edit';\nimport { IUserContext, userConsumer } from '../user/user-provider';\nimport { IProjectContext, addProjectParams, projectConsumer } from './project-provider';\nimport { Location } from 'history';\n\nexport interface ProjectNewProps {\n\tuser: IUserContext;\n\tproject: IProjectContext;\n\tlocation: Location;\n}\n\nexport interface ProjectNewState {\n\t_projectId: string;\n\trequired: boolean;\n\timageRequired: boolean;\n\ttitle: string;\n\tcoverImage: {\n\t\t_imageId: string;\n\t};\n\tyear: Date;\n\tdetails: any;\n}\n\nexport interface ProjectNewMethods {\n\thitKey: (event: UIEvent) => void;\n\tyearChanged: (date: Date) => void;\n\taddNewProject: (event: UIEvent) => void;\n\taddNewProjectResult: (error: boolean, _projectId: string) => void;\n\tonRichTextChange: (value: string) => void;\n\taddNewImageResult: (error: boolean, _imageId: string) => void;\n}\n\n\nclass ProjectNew extends React.Component<ProjectNewProps, ProjectNewState> implements ProjectNewMethods {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \t_projectId: null,\n        \trequired: false,\n        \timageRequired: false,\n        \ttitle: null,\n        \tcoverImage: {\n        \t\t_imageId: null,\n        \t}, \n        \tyear: new Date(),\n        \tdetails: RichTextEditor.createEmptyValue(),\n\t\t};\n\t\t\n\n\t\tthis.hitKey = this.hitKey.bind(this);\n\t\tthis.yearChanged = this.yearChanged.bind(this);\n\t\tthis.addNewProject = this.addNewProject.bind(this);\n\t\tthis.addNewProjectResult = this.addNewProjectResult.bind(this);\n\t\tthis.onRichTextChange = this.onRichTextChange.bind(this);\n\t\tthis.addNewImageResult = this.addNewImageResult.bind(this);\n\t}\n\n\thitKey(event) {\n\t\tif (event.key == 'Enter') {\n\t\t\tthis.addNewProject(event);\n\t\t}\n\t}\n\n\tyearChanged(date) {\n\t\tthis.setState(() => {\n\t\t\treturn {year: date};\n\t\t});\n\t}\n\n\ttitleRef: React.RefObject<HTMLInputElement> = React.createRef();\n\n\taddNewProject(event) {\n\t\tevent.preventDefault();\n\t\tconst title = this.titleRef.current.value;\n\t\tconst { year, details, coverImage } = this.state;\n\t\tif (!title || !year) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {required: true};\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst newProject: addProjectParams = {\n\t\t\ttitle: title,\n\t\t\tyear: year,\n\t\t\tdetails: details.toString('html'),\n\t\t}\n\n\t\tif (coverImage._imageId != null) {\n\t\t\tnewProject.coverImage = newProject.coverImage || {_imageId: ''};\n\t\t\tnewProject.coverImage._imageId = coverImage._imageId;\n\t\t}\n\n\t\tthis.props.project.addProject(newProject, this.addNewProjectResult);\n\n\t\tthis.setState(() => {\n\t\t\treturn {required: false};\n\t\t});\n\t}\n\n\taddNewProjectResult = (error, _projectId) => {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {required: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {_projectId: _projectId};\n\t\t\t});\n\t\t} \n\t}\n\n\tonRichTextChange = (value) => {\n\t\tthis.setState(() => {\n\t\t\treturn {details: value};\n\t\t});\n\t}\n\n\taddNewImageResult = (error, _imageId) => {\n\t\tif (error) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {imageRequired: true};\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {\n\t\t\t\t\tcoverImage: {\n\t\t\t\t\t\t_imageId: _imageId,\n\t\t\t\t\t},\n\t\t\t\t\timageRequired: false,\n\t\t\t\t};\n\t\t\t});\n\t\t} \n\t}\n\t\n\trender() {\n\t\tconst { addNewImageResult, addNewProject, hitKey, yearChanged, onRichTextChange } = this;\n\t\tconst { coverImage, imageRequired, _projectId, required, details, year } = this.state;\n\t\tconst { _imageId } = coverImage;\n\t\tconst { admin } = this.props.user;\n\t\tconst { pathname } = this.props.location;\n\n\t\tif (_projectId) {\n\t\t\treturn (<Redirect to={'/project/item/'+this.state._projectId} />);\n\t\t}\n\t\tif (!admin) {\n\t\t\treturn (<Redirect to={{pathname: '/login', state: {redirectPath: pathname}}}/>)\n\t\t}\n\t\n\t\treturn (\n\t\t\t<div className=\"project-new-wrapper\" >\n\t\t\t\t<form onSubmit={addNewProject}>\n\t\t\t\t\t<h3>New Project</h3>\n\t\t\t\t\t<label>Cover Image</label>\n\t\t\t\t\t{_imageId ? <ImageEdit _imageId={_imageId} updateRedirect={false} /> : <ImageNew required={imageRequired} addNewImageResult={addNewImageResult} />}\n\t\t\t\t\t\n\t\t\t\t\t<label>Title{required ? (<span className=\"errortext\" >*</span>) : ''}</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type='text' onKeyPress={hitKey} placeholder=\"Great Project\" ref={this.titleRef} />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label>Year{required ? (<span className=\"errortext\" >*</span>) : ''}</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<Datetime dateFormat=\"YYYY\" timeFormat={false} onChange={yearChanged} value={year} />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label>Details</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<RichTextEditor value={details} onChange={onRichTextChange} />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type='submit' onClick={addNewProject} value='SAVE' />\n\t\t\t\t</form>\t\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default userConsumer(projectConsumer(ProjectNew));","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport * as RichTextEditor from 'react-rte';\r\nimport { stringify } from 'querystring';\r\n\r\nimport './project.less';\r\n\r\nexport interface IProjectContext extends ProjectWrapperMethods, ProjectWrapperState{\r\n}\r\n\r\nconst Context: IProjectContext = {\r\n    getProjects: (params) => {\r\n        console.error('Error: Cannot getProjects no ProjectContext.Provider element in parents');\r\n    },\r\n    getProject: (params) => {\r\n        console.error('Error: Cannot getProject no ProjectContext.Provider element in parents');\r\n    },\r\n    addProject: (params) => {\r\n        console.error('Error: Cannot addProject no ProjectContext.Provider element in parents');\r\n    },\r\n    updateProject: (params, callback) => {\r\n        console.error('Error: Cannot updateProject no ProjectContext.Provider element in parents');\r\n    },\r\n    projects: [],\r\n    projectList: {},\r\n    page: 0,\r\n    totalPages: 0,\r\n    limit: 0,\r\n    total: 0,\r\n    pageTotal: 0,\r\n};\r\n\r\nexport const ProjectContext = React.createContext(Context);\r\n\r\nexport interface getProjectsQuery {\r\n    discontinued?: boolean;\r\n    limit?: number;\r\n}\r\n\r\nexport interface addProjectParams {\r\n    title: string;\r\n    year: Date;\r\n    details: string;\r\n    coverImage?: {\r\n        _imageId: string;\r\n    };\r\n}\r\n\r\nexport interface updateProjectParams {\r\n    _id?: string;\r\n    title?: string;\r\n    year?: Date;\r\n    details?: string;\r\n    coverImage?: {\r\n        _imageId: string;\r\n    };\r\n    discontinued?: boolean;\r\n}\r\n\r\nexport interface Project {\r\n    _projectId: string;\r\n    title: string;\r\n    year: Date;\r\n    details: string;\r\n    coverImage?: {\r\n        _imageId: string;\r\n    };\r\n    discontinued: boolean;\r\n}\r\n\r\n\r\nexport interface ProjectPage {\r\n    _projectPageId: string;\r\n    title: string;\r\n    details: string;\r\n    image?: {\r\n        _imageId: string;\r\n    };\r\n    discontinued: boolean;\r\n}\r\n\r\nexport interface ProjectWrapperProps {\r\n  initialState?: ProjectWrapperState;\r\n}\r\n\r\nexport interface ProjectWrapperState {\r\n    projects: string[];\r\n    projectList: {\r\n        [key: string]: Project;\r\n    };\r\n    page: number;\r\n    totalPages: number;\r\n    limit: number;\r\n    total: number;\r\n    pageTotal: number;\r\n    project?: Project;\r\n}\r\n\r\nexport interface ProjectWrapperMethods {\r\n    getProjects: (query: getProjectsQuery) => void,\r\n    getProject: (_projectId: string) => void,\r\n    addProject: (params: addProjectParams, callback: (error: boolean, _projectId: string) => void) => void,\r\n    updateProject: (params: updateProjectParams, callback: (error: boolean) => void) => void;\r\n}\r\n\r\nexport class ProjectWrapper extends React.Component<ProjectWrapperProps, ProjectWrapperState> implements ProjectWrapperMethods {\r\n    public static defaultProps: ProjectWrapperProps = {\r\n        initialState: {\r\n            projects: [],\r\n            projectList: {},\r\n            page: 0,\r\n            totalPages: 0,\r\n            limit: 0,\r\n            total: 0,\r\n            pageTotal: 0,\r\n        },\r\n    }\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = this.props.initialState;\r\n        this.getProjects = this.getProjects.bind(this);\r\n        this.getProject = this.getProject.bind(this);\r\n        this.addProject = this.addProject.bind(this);\r\n    }\r\n\r\n    getProjects(query) {\r\n        let querydefaults: getProjectsQuery = {\r\n            limit: 100,\r\n        };\r\n        if (query) {\r\n            if (!query.discontinued) {\r\n                querydefaults.discontinued = false;\r\n            }\r\n            if (query.limit) {\r\n                querydefaults.limit = query.limit;\r\n            }\r\n        } else {\r\n            querydefaults.discontinued = false;\r\n        }\r\n\r\n        let _query = stringify(querydefaults);\r\n        _query = _query ? '?'+_query : '';\r\n\r\n        const request = new Request('/api/project' + _query, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n        });\r\n\r\n        fetch(request)\r\n        .then(function(response) {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = String(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((body) => {\r\n            this.setState(() => {\r\n                return {\r\n                    page: body.page,\r\n                    totalPages: body.totalPages,\r\n                    limit: body.limit,\r\n                    total: body.total,\r\n                    pageTotal: body.pageTotal,\r\n                    projects: body.projects,\r\n                };\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            this.setState(() => {\r\n                return {\r\n                    projects: null,\r\n                    page: null,\r\n                    totalPages: null,\r\n                    limit: null,\r\n                    total: null,\r\n                    pageTotal: null,\r\n                };\r\n            });\r\n        });\r\n    }\r\n\r\n    getProject(_projectId) {\r\n        let query = stringify({\r\n            field: [\r\n                '_id',\r\n                'name',\r\n                'alt',\r\n                'filename',\r\n                'discontinued',\r\n            ],\r\n            format: 'json',\r\n        });\r\n        query = query ? '?'+query : '';\r\n\r\n        const request = new Request('/api/project/' + _projectId + query, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            }   \r\n        });\r\n\r\n        fetch(request)\r\n        .then((response) => {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = String(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((body) => {\r\n            const { _id, title, year, details, discontinued } = body;\r\n            let { coverImage } = body;\r\n            if (coverImage == undefined) {\r\n                coverImage = {};\r\n            }\r\n            this.setState((preState) => {\r\n                preState.projectList[_id] = {\r\n                    _projectId: _id,\r\n                    title: title,\r\n                    year: year,\r\n                    details: details,\r\n                    coverImage: coverImage,\r\n                    discontinued: discontinued,\r\n                };\r\n                return preState;\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n\r\n    }\r\n\r\n    addProject(params, callback) {           \r\n        const payload: addProjectParams = {\r\n            title: params.title,\r\n            year: params.year,\r\n            details: params.details,\r\n        }\r\n\r\n        if ('coverImage' in params) {\r\n            payload.coverImage = params.coverImage;\r\n        }\r\n\r\n        const request = new Request('/api/project', {\r\n            method: 'POST',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: JSON.stringify(payload), \r\n        });\r\n        fetch(request)\r\n        .then(function(response) {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText);\r\n                error.message = String(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then(function(response) {\r\n            return response.json();\r\n        })\r\n        .then(function(response) {\r\n            callback(false, response._id);\r\n        })\r\n        .catch(function(error) {\r\n            callback(true);\r\n        });\r\n    }\r\n\r\n    updateProject(params: updateProjectParams, callback) {\r\n\r\n        let payload: updateProjectParams = {\r\n            _id: params._id\r\n        };\r\n\r\n        if ('title' in params) {\r\n            payload.title = params.title;\r\n        }\r\n        if ('year' in params) {\r\n            payload.year = params.year;\r\n        }\r\n        if ('details' in params) {\r\n            payload.details = params.details;\r\n        }\r\n        if ('coverImage' in params) {\r\n            if ('_imageId' in params.coverImage) {\r\n                payload.coverImage = payload.coverImage || {_imageId: null};\r\n                payload.coverImage._imageId = params.coverImage._imageId;\r\n            }\r\n        }\r\n        if ('discontinued' in params) {\r\n            payload.discontinued = params.discontinued;\r\n        }\r\n\r\n        const request = new Request('/api/project', {\r\n            method: 'PUT',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: JSON.stringify(payload), \r\n        });\r\n        fetch(request)\r\n        .then((response) => {\r\n            if (response.status < 200 || response.status >= 300) {\r\n                const error = new Error(response.statusText)\r\n                error.message = String(response);\r\n                throw error;\r\n            }\r\n            return response;\r\n        })\r\n        .then((response) => {\r\n            callback(false);\r\n        })\r\n        .catch((error) => {\r\n            callback(true);\r\n        });\r\n    }\r\n\r\n    render() {\r\n    const { getProjects, getProject, addProject, updateProject } = this;\r\n    const { projects, projectList, page, totalPages, limit, total, pageTotal } = this.state;\r\n        const context: IProjectContext = {\r\n            getProjects: getProjects,\r\n            getProject: getProject,\r\n            addProject: addProject,\r\n            updateProject: updateProject,\r\n            projects: projects,\r\n            projectList: projectList,\r\n            page: page,\r\n            totalPages: totalPages,\r\n            limit: limit,\r\n            total: total,\r\n            pageTotal: pageTotal,\r\n        }\r\n        return (\r\n            <ProjectContext.Provider value={context} >\r\n                {this.props.children}\r\n            </ProjectContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ProjectWrapper;\r\n\r\nexport interface projectProviderOptions {\r\n  props?: ProjectWrapperProps;\r\n}\r\n\r\nexport const projectProvider = (Component, options?: projectProviderOptions) => {\r\n  class ProjectProvider extends React.Component<null, null> {\r\n    render () {\r\n      let projectWrapperProps: ProjectWrapperProps = {};\r\n      if (options) {\r\n        if ('props' in options) {\r\n          projectWrapperProps = options.props;\r\n        }\r\n      }\r\n      return (\r\n        <ProjectWrapper {...projectWrapperProps}>\r\n          <Component {...this.props} />  \r\n        </ProjectWrapper>\r\n      );\r\n    }\r\n  }\r\n  \r\n    return ProjectProvider;\r\n}\r\n\r\nexport const projectConsumer = (Component) => {\r\n    class ProjectConsumer extends React.Component<any> {\r\n        render () {\r\n            let { _projectId } = this.props;\r\n            if ('match' in this.props) {\r\n                if ('_projectId' in this.props.match.params) {\r\n                    _projectId = this.props.match.params._projectId;\r\n                }\r\n            }\r\n            return (\r\n            <ProjectContext.Consumer>\r\n                {(context) => {\r\n                    if (_projectId) {\r\n                        context.project = {\r\n                            _projectId: _projectId,\r\n                            title: '',\r\n                            year: new Date(),\r\n                            details: RichTextEditor.createEmptyValue().toString('html'),\r\n                            coverImage: {_imageId: null},\r\n                            discontinued: false,\r\n                        };\r\n\r\n                        if (_projectId in context.projectList) {\r\n\r\n                            const project = context.projectList[_projectId];\r\n                            context.project = {\r\n                                _projectId: _projectId,\r\n                                title:               'title' in project ? project.title : '',\r\n                                year:                 'year' in project ? project.year : new Date(),\r\n                                details:           'details' in project ? project.details : RichTextEditor.createEmptyValue().toString('html'),\r\n                                coverImage:     'coverImage' in project ? '_imageId' in project.coverImage ? project.coverImage : {_imageId: null} : {_imageId: ''},\r\n                                discontinued: 'discontinued' in project ? project.discontinued : false,\r\n                            };\r\n                        }\r\n                    }\r\n                    return (\r\n                        <Component {...this.props} {...{project: context}} />\r\n                    )\r\n                }}\r\n            </ProjectContext.Consumer>\r\n            );\r\n        }\r\n    }\r\n    return ProjectConsumer;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 'use strict';\r\n\r\n// import actions from '../actions/project.actions';\r\n// import objectPath from 'object-path';\r\n\r\n// const projectInitialState = {\r\n//     projectsDisplay: null,\r\n//     projectList: null,\r\n//     projectListLength: null,\r\n//     projectsPage: null,\r\n//     projectsTotalPages: null,\r\n//     projectsPageLimit: null,\r\n//     projectsTotal: null,\r\n//     projectsTotalBatch: null,\r\n// };\r\n\r\n// const projectReducer = function(state, action) {\r\n//     state = state || projectInitialState;\r\n//     const _state = state;\r\n//     if (action.type === actions.GET_PROJECTS_SUCCESS) {\r\n//         _state.projectsDisplay = action.projects;\r\n//         // _state.projectList = action.projects;\r\n\r\n//         _state.projectsPage = action.projectsPage; \r\n//         _state.projectsTotalPages = action.projectsTotalPages; \r\n//         _state.projectsPageLimit = action.projectsPageLimit; \r\n//         _state.projectsTotal = action.projectsTotal; \r\n//         _state.projectsTotalBatch = action.projectsTotalBatch; \r\n//         // _state.projects = action.projects; \r\n//     }    \r\n//     if (action.type === actions.GET_PROJECTS_ERROR) {\r\n//         _state.projectList = null;\r\n//         _state.projectsPage = null;\r\n//         _state.projectsTotalPages = null;\r\n//         _state.projectsPageLimit = null;\r\n//         _state.projectsTotal = null;\r\n//         _state.projectsTotalBatch = null;\r\n//     }\r\n//     if (action.type === actions.GET_PROJECT_SUCCESS) {\r\n//         _state.projectList = _state.projectList || {};\r\n//         const project = action.response;\r\n\r\n\r\n\r\n//         _state.projectList[project._id] = {\r\n//             _id: project._id,\r\n//             title: project.title,\r\n//             year: project.year,\r\n//             details: project.details,\r\n//             discontinued: project.discontinued,\r\n//             coverImage: objectPath.get(project, \"coverImage\", {_imageId: null}),\r\n//         };\r\n//     }    \r\n//     if (action.type === actions.GET_PROJECT_ERROR) {\r\n//         console.error(action.error);\r\n//     }\r\n//     if (_state.projectList !== null) {\r\n//     \t_state.projectListLength = Object.keys(_state.projectList).length;\r\n//     }\r\n//     return _state;\r\n// };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const addProject = function(newProject, callback) {\r\n\r\n//     const payload = {\r\n//         title: newProject.title,\r\n//         year: newProject.year,\r\n//         details: newProject.details,\r\n//     };\r\n\r\n//     if ('coverImage' in newProject) {\r\n//         const { coverImage } = newProject;\r\n//         payload.coverImage = {};\r\n//         if ('_imageId' in coverImage) {\r\n//             payload.coverImage._imageId = coverImage._imageId;\r\n//         }\r\n//     }\r\n//     return function(dispatch) {\r\n//         const url = '/api/project';\r\n//         return fetch(url, {\r\n//             method: 'POST',\r\n//             credentials: 'same-origin',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Accept': 'application/json',\r\n//             },\r\n//             body: JSON.stringify(payload), \r\n//         }).then(function(response) {\r\n//             if (response.status < 200 || response.status >= 300) {\r\n//                 const error = new Error(response.statusText)\r\n//                 error.response = response\r\n//                 throw error;\r\n//             }\r\n//             return response;\r\n//         })\r\n//         .then(function(response) {\r\n//             return response.json();\r\n//         })\r\n//         .then(function(response) {\r\n//             callback(false, response._id);\r\n//             return dispatch(addProjectSuccess());\r\n//         })\r\n//         .catch(function(error) {\r\n//             callback(true);\r\n//             return dispatch(addProjectError(error));\r\n//         });\r\n//     };\r\n// };\r\n\r\n// const UPDATE_PROJECT = 'UPDATE_PROJECT';\r\n// const updateProject = function(_new, _old, callback) {\r\n//     let payload = {_id: _old._projectId};\r\n//     let vaildKeys = ['title', 'year', 'end_date', 'details', 'discontinued'];\r\n\r\n//     for (let i = 0; i < vaildKeys.length; i++) {\r\n//         if (_new[vaildKeys[i]] != _old[vaildKeys[i]]) {\r\n//             payload[vaildKeys[i]] = _new[vaildKeys[i]];\r\n//         }\r\n//     }\r\n    \r\n//     return function(dispatch) {\r\n//         const url = '/api/project';\r\n//         return fetch(url, {\r\n//             method: 'PUT',\r\n//             credentials: 'same-origin',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Accept': 'application/json',\r\n//             },\r\n//             body: JSON.stringify(payload), \r\n//         }).then(function(response) {\r\n//             if (response.status < 200 || response.status >= 300) {\r\n//                 const error = new Error(response.statusText)\r\n//                 error.response = response\r\n//                 throw error;\r\n//             }\r\n//             return response;\r\n//         })\r\n//         .then(function(response) {\r\n//             callback(false);\r\n//             return dispatch(updateProjectSuccess());\r\n//         })\r\n//         .catch(function(error) {\r\n//             callback(true);\r\n//             return dispatch(updateProjectError(error));\r\n//         });\r\n//     };\r\n// };\r\n\r\n\r\n// const getProjects = function(query){\r\n//     return function(dispatch) {\r\n//         dispatch(gettingProjects());\r\n//         const querydefaults = {\r\n//             limit: 100,\r\n//             format: 'json',\r\n//         };\r\n//         if (query) {\r\n//             if (!query.discontinued) {\r\n//                 querydefaults.discontinued = false;\r\n//             }\r\n//             if (query.limit) {\r\n//                 querydefaults.limit = query.limit;\r\n//             }\r\n//         } else {\r\n//             querydefaults.discontinued = false;\r\n//         }\r\n\r\n//         let _query = querystring.stringify(querydefaults);\r\n//         _query = _query ? '?'+_query : '';\r\n//         let _url = '/api/project' + _query;\r\n//         return fetch(_url, {\r\n//             method: 'GET',\r\n//             credentials: 'same-origin',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Accept': 'application/json',\r\n//             }   \r\n//         }).then(function(response) {\r\n//             if (response.status < 200 || response.status >= 300) {\r\n//                 const error = new Error(response.statusText)\r\n//                 error.response = response\r\n//                 throw error;\r\n//             }\r\n//             return response;\r\n//         })\r\n//         .then(function(response) {\r\n//             return response.json();\r\n//         })\r\n//         .then(function(response) {\r\n//             return dispatch(getProjectsSuccess(response));\r\n//         })\r\n//         .catch(function(error) {\r\n//             return dispatch(getProjectsError(error));\r\n//         });\r\n//     };\r\n// };\r\n\r\n// const GET_PROJECTS_SUCCESS = 'GET_PROJECTS_SUCCESS';\r\n// const getProjectsSuccess = function(response) {\r\n//     return {\r\n//         type: GET_PROJECTS_SUCCESS,\r\n//         projectsPage: response.page,\r\n//         projectsTotalPages: response.totalPages,\r\n//         projectsPageLimit: response.limit,\r\n//         projectsTotal: response.total,\r\n//         projectsTotalBatch: response.pageTotal,\r\n//         projects: response.projects,\r\n//     };\r\n// };\r\n\r\n// const getProject = function(_projectId){\r\n//     return function(dispatch) {\r\n//         dispatch(gettingProjects());\r\n\r\n//         let query = querystring.stringify({\r\n//             field: [\r\n//                 '_id',\r\n//                 'title',\r\n//                 'year',\r\n//                 'details',\r\n//                 'discontinued',\r\n//             ],\r\n//             format: 'json',\r\n//         });\r\n//         query = query ? '?'+query : '';\r\n//         let _url = '/api/project/' + _projectId + query;\r\n//         return fetch(_url, {\r\n//             method: 'GET',\r\n//             credentials: 'same-origin',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Accept': 'application/json',\r\n//             }   \r\n//         }).then(function(response) {\r\n//             if (response.status < 200 || response.status >= 300) {\r\n//                 const error = new Error(response.statusText)\r\n//                 error.response = response\r\n//                 throw error;\r\n//             }\r\n//             return response;\r\n//         })\r\n//         .then(function(response) {\r\n//             return response.json();\r\n//         })\r\n//         .then(function(response) {\r\n//             return dispatch(getProjectSuccess(response));\r\n//         })\r\n//         .catch(function(error) {\r\n//             return dispatch(getProjectError(error));\r\n//         });\r\n//     };\r\n// };\r\n\r\n// const GET_PROJECT_SUCCESS = 'GET_PROJECT_SUCCESS';\r\n// const getProjectSuccess = function(response) {\r\n//     return {\r\n//         type: GET_PROJECT_SUCCESS,\r\n//         response: response\r\n//     };\r\n// };\r\n\r\n// const getProjectPages = function(_projectId, query){\r\n//     return function(dispatch) {\r\n//         dispatch(gettingProjectPages());\r\n//         const querydefaults = {\r\n//             limit: 100,\r\n//             format: 'json',\r\n//         };\r\n//         if (query) {\r\n//             if (!query.discontinued) {\r\n//                 querydefaults.discontinued = false;\r\n//             }\r\n//             if (query.limit) {\r\n//                 querydefaults.limit = query.limit;\r\n//             }\r\n//         } else {\r\n//             querydefaults.discontinued = false;\r\n//         }\r\n\r\n//         let _query = querystring.stringify(querydefaults);\r\n//         _query = _query ? '?'+_query : '';\r\n//         let _url = '/api/project/' + _projectId + '/page' + _query;\r\n//         return fetch(_url, {\r\n//             method: 'GET',\r\n//             credentials: 'same-origin',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Accept': 'application/json',\r\n//             }   \r\n//         }).then(function(response) {\r\n//             if (response.status < 200 || response.status >= 300) {\r\n//                 const error = new Error(response.statusText)\r\n//                 error.response = response\r\n//                 throw error;\r\n//             }\r\n//             return response;\r\n//         })\r\n//         .then(function(response) {\r\n//             return response.json();\r\n//         })\r\n//         .then(function(response) {\r\n//             console.log(response)\r\n//             return dispatch(getProjectPagesSuccess(response));\r\n//         })\r\n//         .catch(function(error) {\r\n//             return dispatch(getProjectPagesError(error));\r\n//         });\r\n//     };\r\n// };\r\n\r\n// const getMoreProjectPages = function(url) {\r\n//     return function(dispatch) {\r\n//         return fetch(url, {\r\n//             method: 'GET',\r\n//             credentials: 'same-origin',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Accept': 'application/json',\r\n//             }   \r\n//         }).then(function(response) {\r\n//             if (response.status < 200 || response.status >= 300) {\r\n//                 const error = new Error(response.statusText)\r\n//                 error.response = response\r\n//                 throw error;\r\n//             }\r\n//             return response;\r\n//         })\r\n//         .then(function(response) {\r\n//             return response.json();\r\n//         })\r\n//         .then(function(response) {\r\n//             return dispatch(getProjectPagesSuccess(response));\r\n//         })\r\n//         .catch(function(error) {\r\n//             return dispatch(getProjectPagesError(error));\r\n//         });\r\n//     }\r\n// };\r\n\r\n\r\n// const GET_PROJECT_PAGES_SUCCESS = 'GET_PROJECT_PAGES_SUCCESS';\r\n// const getProjectPagesSuccess = function(response) {\r\n//     return {\r\n//         type: GET_PROJECT_PAGES_SUCCESS,\r\n//         projectsPage: response.page,\r\n//         projectsTotalPages: response.totalPages,\r\n//         projectsPageLimit: response.limit,\r\n//         projectsTotal: response.total,\r\n//         projectsTotalBatch: response.pageTotal,\r\n//         projects: response.projects,\r\n//     };\r\n// };\r\n","'use strict';\n\nimport * as React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { NavLink } from \"react-router-dom\";\nimport ProjectMain from './project-main';\nimport Project from './project';\nimport ProjectEdit from './project-edit';\nimport ProjectNew from './project-new';\n// import ProjectPage from './page/project-page';\n// import ProjectPageNew from './page/project-page-new';\n// import ProjectPageEdit from './page/project-page-edit';\nimport NoMatch from '../no-match';\nimport { projectProvider } from './project-provider';\nimport { projectPageProvider } from './page/project-page-provider';\nimport './project.less';\n\nclass ProjectSwitch extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"project-page-wrapper\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<NavLink exact to={'/project'} activeClassName=\"selected\" ><h2>Projects</h2></NavLink>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/project\" component={ProjectMain} />\n\t\t\t\t\t\t<Route exact path=\"/project/new/:_projectId\" component={Project} />\n\t\t\t\t\t\t<Route exact path=\"/project/new\" component={ProjectNew} />\n\t\t\t\t\t\t<Route exact path=\"/project/item/:_projectId/:_projectPageId\" component={Project} />\n\t\t\t\t\t\t<Route exact path=\"/project/item/:_projectId\" component={Project} />\n\t\t\t\t\t\t<Route exact path=\"/project/edit/:_projectId/:_projectPageId\" component={Project} />\n\t\t\t\t\t\t<Route exact path=\"/project/edit/:_projectId\" component={ProjectEdit} />\n\t\t\t\t\t\t<Route component={NoMatch}/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\t\t\t\n\t}\n};\n\nexport default projectProvider(projectPageProvider(ProjectSwitch));","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./project.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./project.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./project.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","'use strict';\n\nimport * as React from 'react';\nimport RichTextEditor from 'react-rte';\nimport { Link, Switch, Route, NavLink } from \"react-router-dom\";\nimport * as moment from 'moment';\nimport styled from 'styled-components';\nimport { projectConsumer, IProjectContext } from './project-provider';\nimport { IUserContext, userConsumer } from '../user/user-provider';\nimport ImageTag from '../image/image-tag';\nimport ProjectPageList from './page/project-page-list';\nimport { projectPageProvider } from './page/project-page-provider';\nimport ProjectPage from './page/project-page';\nimport ProjectPageNew from './page/project-page-new';\nimport ProjectPageEdit from './page/project-page-edit';\n\nconst Wrapper = styled.div`\n\tdisplay: grid;\n\tgrid-row-gap: 1em;\n\t> .title-year-wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\t> img {\n\t\tmax-width: 100%;\n\t\tmargin: 0 auto;\n\t}\n\n`;\n\nexport interface ProjectProps {\n\tproject: IProjectContext;\n\tuser: IUserContext;\n}\n\nexport interface ProjectState {\n\tdiscontinued: boolean;\n}\n\nclass Project extends React.Component<ProjectProps, ProjectState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \tdiscontinued: false,\n        };\n\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n    }\n\n    handleCheckboxChange(event) {\n        const { name, checked } = event.target;\n        this.setState((prevState) => {\n            prevState[name] = checked; \n            return prevState;\n        });\n    }\n\n    componentDidMount() {\n    \tthis.props.project.getProject(this.props.project.project._projectId);\n    }\n\n\trender() {\n\t\tconst { _projectId, title, year, details, coverImage } = this.props.project.project;\n\t\tconst { _imageId } = coverImage;\n\t\tconst { admin } = this.props.user;\n\t\tconst { discontinued } = this.state;\n\n\t\tconst formatedYear = moment(year).format(\"YYYY\");\n\t\tconst coverImageElem = _imageId? (<ImageTag _imageId={_imageId} />) : '';\n\t\tconst convertedDetails = RichTextEditor.createValueFromString(details, 'html');\n\t\treturn (\n\t\t\t<Wrapper className=\"project-wrapper\" >\n\t\t\t\t{admin ? <p className=\"text-right\" ><Link to={'/project/edit/'+_projectId}>EDIT</Link></p> : ''}\n\t\t\t\t<div className=\"title-year-wrapper\">\n\t\t\t\t\t<NavLink to={'/project/item/'+_projectId} ><h2 className=\"title\">{title}</h2></NavLink>\n\t\t\t\t\t<p className=\"year\">{formatedYear}</p>\n\t\t\t\t</div>\n\t\t\t\t{coverImageElem}\n\t\t\t\t{ details != '<p><br></p>' ? <RichTextEditor value={convertedDetails} readOnly={true} /> : ''}\n\t\t\t\t{admin ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Link to={\"/project/new/\"+_projectId}>NEW PAGE</Link>\n\t\t\t\t\t\t<label>Discontinued</label><input type='checkbox' checked={!!this.state.discontinued} name=\"discontinued\" onChange={this.handleCheckboxChange} />\n\t\t\t\t\t</div>\n\t\t\t\t) : ''}\n\t\t\t\t<ProjectPageList discontinued={discontinued} />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/project/new/:_projectId/\" component={ProjectPageNew} />\n\t\t\t\t\t<Route exact path=\"/project/item/:_projectId/:_projectPageId\" component={ProjectPage} />\n\t\t\t\t\t<Route exact path=\"/project/edit/:_projectId/:_projectPageId\" component={ProjectPageEdit} />\t\t\t\t\n\t\t\t\t</Switch>\n\t\t\t</Wrapper>\n\t\t);\t\t\t\n\t}\n};\n\n\nexport { Project };\n\nexport default userConsumer(projectConsumer(projectPageProvider(Project)));","'use strict';\r\n\r\n// import styled from 'styled-components'\r\n\r\n\r\nexport interface ThemeInterface {\r\n\tprimaryColor: string;\r\n\tprimaryColorInverted: string;\r\n\tblue: string;\r\n\tdarkblue: string;\r\n\tlightblue: string;\r\n\thighlightblue: string;\r\n\tgray: string;\r\n}\r\n\r\nimport * as styledComponents from 'styled-components';\r\nimport { ThemedStyledComponentsModule } from 'styled-components';\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<ThemeInterface>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\nexport const defaultTheme: ThemeInterface = {\r\n\tprimaryColor: '#172B57', \r\n\tprimaryColorInverted: '#4d5f86',\r\n\tblue: '#002157',\r\n\tdarkblue: '#172B57',\r\n\tlightblue: '#3B5CA3',\r\n\thighlightblue: '#4d5f86',\r\n\tgray: 'gray',\r\n};\r\n\r\nexport const Popout = styled.div`\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: rgba(0, 0, 0, 0.85);\r\n\tz-index: 10000;\r\n\t> * {\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tmargin: 0;\r\n\t\toverflow: auto;    \r\n\t\tmax-height: 100%;\r\n\t\tpadding: 2em 0;\r\n\t}\r\n\t\r\n`;\r\n","module.exports = { prefix: 'fas', iconName: 'caret-left', icon: [192, 512, [], \"f0d9\", \"M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z\"] };","module.exports = { prefix: 'fas', iconName: 'caret-right', icon: [192, 512, [], \"f0da\", \"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z\"] };","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".project-wrapper .project-list {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\n  grid-template-rows: minmax(100px, 1fr);\\n  grid-gap: 2rem;\\n}\\n.project-wrapper .project-list .project-link {\\n  display: grid;\\n  grid-template-rows: 1fr auto;\\n  width: 100%;\\n  height: 100%;\\n  color: black;\\n  border-color: #ffffff;\\n  border-style: solid;\\n}\\n.project-wrapper .project-list .project-link:hover {\\n  border-style: solid;\\n  border-color: black;\\n  transition: border-color 2s linear;\\n}\\n.project-wrapper .project-list .image-wrapper {\\n  align-self: stretch;\\n  width: 100%;\\n}\\n.project-wrapper .project-list .image-wrapper img {\\n  max-width: 100%;\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n.project-wrapper .project-list .title-year-wrapper {\\n  align-self: end;\\n}\\n.project-wrapper .project-list .title-year-wrapper > .title,\\n.project-wrapper .project-list .title-year-wrapper > .year {\\n  margin: 0.25em;\\n  display: inline-block;\\n}\\n.project-wrapper .project-list .title-year-wrapper > .year {\\n  float: right;\\n}\\n\", \"\"]);\n\n// exports\n","(function (root, factory){\n  'use strict';\n\n  /*istanbul ignore next:cant test*/\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else {\n    // Browser globals\n    root.objectPath = factory();\n  }\n})(this, function(){\n  'use strict';\n\n  var toStr = Object.prototype.toString;\n  function hasOwnProperty(obj, prop) {\n    if(obj == null) {\n      return false\n    }\n    //to handle objects with null prototypes (too edge case?)\n    return Object.prototype.hasOwnProperty.call(obj, prop)\n  }\n\n  function isEmpty(value){\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) && value.length === 0) {\n        return true;\n    } else if (typeof value !== 'string') {\n        for (var i in value) {\n            if (hasOwnProperty(value, i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n  }\n\n  function toString(type){\n    return toStr.call(type);\n  }\n\n  function isObject(obj){\n    return typeof obj === 'object' && toString(obj) === \"[object Object]\";\n  }\n\n  var isArray = Array.isArray || function(obj){\n    /*istanbul ignore next:cant test*/\n    return toStr.call(obj) === '[object Array]';\n  }\n\n  function isBoolean(obj){\n    return typeof obj === 'boolean' || toString(obj) === '[object Boolean]';\n  }\n\n  function getKey(key){\n    var intKey = parseInt(key);\n    if (intKey.toString() === key) {\n      return intKey;\n    }\n    return key;\n  }\n\n  function factory(options) {\n    options = options || {}\n\n    var objectPath = function(obj) {\n      return Object.keys(objectPath).reduce(function(proxy, prop) {\n        if(prop === 'create') {\n          return proxy;\n        }\n\n        /*istanbul ignore else*/\n        if (typeof objectPath[prop] === 'function') {\n          proxy[prop] = objectPath[prop].bind(objectPath, obj);\n        }\n\n        return proxy;\n      }, {});\n    };\n\n    function hasShallowProperty(obj, prop) {\n      return (options.includeInheritedProps || (typeof prop === 'number' && Array.isArray(obj)) || hasOwnProperty(obj, prop))\n    }\n\n    function getShallowProperty(obj, prop) {\n      if (hasShallowProperty(obj, prop)) {\n        return obj[prop];\n      }\n    }\n\n    function set(obj, path, value, doNotReplace){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (typeof path === 'string') {\n        return set(obj, path.split('.').map(getKey), value, doNotReplace);\n      }\n      var currentPath = path[0];\n      var currentValue = getShallowProperty(obj, currentPath);\n      if (path.length === 1) {\n        if (currentValue === void 0 || !doNotReplace) {\n          obj[currentPath] = value;\n        }\n        return currentValue;\n      }\n\n      if (currentValue === void 0) {\n        //check if we assume an array\n        if(typeof path[1] === 'number') {\n          obj[currentPath] = [];\n        } else {\n          obj[currentPath] = {};\n        }\n      }\n\n      return set(obj[currentPath], path.slice(1), value, doNotReplace);\n    }\n\n    objectPath.has = function (obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      } else if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      if (!path || path.length === 0) {\n        return !!obj;\n      }\n\n      for (var i = 0; i < path.length; i++) {\n        var j = getKey(path[i]);\n\n        if((typeof j === 'number' && isArray(obj) && j < obj.length) ||\n          (options.includeInheritedProps ? (j in Object(obj)) : hasOwnProperty(obj, j))) {\n          obj = obj[j];\n        } else {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    objectPath.ensureExists = function (obj, path, value){\n      return set(obj, path, value, true);\n    };\n\n    objectPath.set = function (obj, path, value, doNotReplace){\n      return set(obj, path, value, doNotReplace);\n    };\n\n    objectPath.insert = function (obj, path, value, at){\n      var arr = objectPath.get(obj, path);\n      at = ~~at;\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n      arr.splice(at, 0, value);\n    };\n\n    objectPath.empty = function(obj, path) {\n      if (isEmpty(path)) {\n        return void 0;\n      }\n      if (obj == null) {\n        return void 0;\n      }\n\n      var value, i;\n      if (!(value = objectPath.get(obj, path))) {\n        return void 0;\n      }\n\n      if (typeof value === 'string') {\n        return objectPath.set(obj, path, '');\n      } else if (isBoolean(value)) {\n        return objectPath.set(obj, path, false);\n      } else if (typeof value === 'number') {\n        return objectPath.set(obj, path, 0);\n      } else if (isArray(value)) {\n        value.length = 0;\n      } else if (isObject(value)) {\n        for (i in value) {\n          if (hasShallowProperty(value, i)) {\n            delete value[i];\n          }\n        }\n      } else {\n        return objectPath.set(obj, path, null);\n      }\n    };\n\n    objectPath.push = function (obj, path /*, values */){\n      var arr = objectPath.get(obj, path);\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n\n      arr.push.apply(arr, Array.prototype.slice.call(arguments, 2));\n    };\n\n    objectPath.coalesce = function (obj, paths, defaultValue) {\n      var value;\n\n      for (var i = 0, len = paths.length; i < len; i++) {\n        if ((value = objectPath.get(obj, paths[i])) !== void 0) {\n          return value;\n        }\n      }\n\n      return defaultValue;\n    };\n\n    objectPath.get = function (obj, path, defaultValue){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (obj == null) {\n        return defaultValue;\n      }\n      if (typeof path === 'string') {\n        return objectPath.get(obj, path.split('.'), defaultValue);\n      }\n\n      var currentPath = getKey(path[0]);\n      var nextObj = getShallowProperty(obj, currentPath)\n      if (nextObj === void 0) {\n        return defaultValue;\n      }\n\n      if (path.length === 1) {\n        return nextObj;\n      }\n\n      return objectPath.get(obj[currentPath], path.slice(1), defaultValue);\n    };\n\n    objectPath.del = function del(obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      }\n\n      if (obj == null) {\n        return obj;\n      }\n\n      if (isEmpty(path)) {\n        return obj;\n      }\n      if(typeof path === 'string') {\n        return objectPath.del(obj, path.split('.'));\n      }\n\n      var currentPath = getKey(path[0]);\n      if (!hasShallowProperty(obj, currentPath)) {\n        return obj;\n      }\n\n      if(path.length === 1) {\n        if (isArray(obj)) {\n          obj.splice(currentPath, 1);\n        } else {\n          delete obj[currentPath];\n        }\n      } else {\n        return objectPath.del(obj[currentPath], path.slice(1));\n      }\n\n      return obj;\n    }\n\n    return objectPath;\n  }\n\n  var mod = factory();\n  mod.create = factory;\n  mod.withInheritedProps = factory({includeInheritedProps: true})\n  return mod;\n});\n"],"sourceRoot":""}