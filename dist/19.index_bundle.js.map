{"version":3,"sources":["webpack:///./client/src/components/user/forgotpassword.tsx"],"names":[],"mappings":"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","file":"19.index_bundle.js","sourcesContent":["'use strict';\r\n\r\nimport * as React from 'react';\r\nimport * as objectPath from 'object-path';\r\nimport { withRouter, Link, Redirect, NavLink } from 'react-router-dom';\r\nimport { IUserContext, userConsumer } from './user-provider';\r\n\r\nexport interface ForgotPasswordPageProps {\r\n\tuser: IUserContext;\r\n}\r\n\r\nexport interface ForgotPasswordPageState {\r\n    required: boolean;\r\n    requestSent: boolean;\r\n}\r\n\r\nexport interface ForgotPasswordPageMethods {\r\n\thitKey: (event: UIEvent) => void;\r\n\tforgotPassword: (event: UIEvent) => void;\r\n\tforgotPasswordResult: (result: boolean) => void;\r\n}\r\n\r\nclass ForgotPasswordPage extends React.Component<ForgotPasswordPageProps, ForgotPasswordPageState, ForgotPasswordPageMethods> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        \trequired: false,\r\n        \trequestSent: false,\r\n        };\r\n\r\n\t\tthis.hitKey = this.hitKey.bind(this);\r\n\t\tthis.forgotPassword = this.forgotPassword.bind(this);\r\n\t\tthis.forgotPasswordResult = this.forgotPasswordResult.bind(this);\r\n    }\r\n\r\n\temailRef: React.RefObject<HTMLInputElement> = React.createRef();\r\n\t\r\n\thitKey(event) {\r\n\t\tif (event.key == 'Enter') {\r\n            this.forgotPassword(event);\r\n        }\r\n\t}\r\n\r\n\tforgotPassword(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlet email;\r\n\t\tlet invalid = null;\r\n\t\t// Validate email\r\n\t\tif (this.emailRef.current.value) {\r\n\t\t\temail = this.emailRef.current.value;\r\n\t\t} else {\r\n\t\t\tinvalid = invalid || {};\r\n\t\t\tinvalid.email = {\r\n\t\t\t\tmessage: \"Email is Required\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (invalid) {\r\n\t\t\tthis.emailRef.current.value = '';\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {required: true};\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// Send request off to server to reset password \r\n\t\tthis.props.user.forgotPassword(email, this.forgotPasswordResult);\r\n\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {required: true};\r\n\t\t});\r\n\t}\r\n\r\n\tforgotPasswordResult(result) {\r\n    \tif (result) {\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {requestSent: true};\r\n\t\t\t});\r\n        } else {\r\n\t\t\tthis.emailRef.current.value = '';\r\n\t\t\tthis.setState(() => {\r\n\t\t\t\treturn {required: true};\r\n\t\t\t});\r\n    \t} \r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { emailRef, hitKey, forgotPassword } = this;\r\n        const { required, requestSent } = this.state\r\n        if (requestSent) {\r\n            return(\r\n\t\t\t\t<div className=\"forgotPassword-page-wrapper\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<NavLink to={'/forgotpassword'} activeClassName=\"selected\" ><h2>Reset Password Request</h2></NavLink>\r\n\t\t\t\t\t\t<p>Request successfully sent to your email. Check your inbox or junk for a Pencil 4 Life Password Reset for link to reset password.</p>\r\n\t\t\t\t\t\t<p><Link className=\"btn\" to={'/login'}>Login</Link> or <Link className=\"btn\" to={'/signup'} >Signup</Link></p>\r\n\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n            );\r\n        }\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"forgotPassword-page-wrapper\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<NavLink to={'/forgotpassword'} activeClassName=\"selected\" ><h2>Reset Password Request</h2></NavLink>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<label htmlFor=\"email\"><b>Email:</b></label>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<input type=\"text\" onKeyPress={hitKey} placeholder=\"Enter youremail@example.com\" name=\"email\" ref={emailRef} autoComplete='email' required />\r\n\t\t\t\t\t{required ? (<span className=\"errortext\" >* Required</span>) : ''}\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<input type=\"submit\" onClick={forgotPassword} value=\"RESET PASSWORD\"/>\r\n\r\n\t\t\t\t\t<p><Link className=\"btn\" to={'/login'}>Login</Link> or <Link className=\"btn\" to={'/signup'} >Signup</Link></p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\t\t\t\r\n\t}\r\n};\r\n\r\nexport default userConsumer(withRouter(ForgotPasswordPage));"],"sourceRoot":""}